<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=Edge"><meta http-equiv=permissions-policy content="interest-cohort=()"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#2b7bb5"><meta name=copyright content="Copyright (c)2025 Erik McClure"><meta name=keywords content="games,music,code,erik mcclure,erikmcclure,aurora theory,sweetie bot,discord,feathergui,fading light,tinyoal,cloud hop"><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=google-site-verification content="Oxb2ia8HjcHLXlvstA8xPpQO3BO_y15Ds2Ia-feq1MQ"><meta name=generator content="Hugo 0.119.0"><link rel=me href=https://equestria.social/@cloudhop><link rel=canonical href=https://erikmcclure.com/blog/><link rel=apple-touch-icon href=https://erikmcclure.com/favicon.ico><link rel="shortcut icon" type=image/x-icon href=https://erikmcclure.com/favicon.ico><link rel=stylesheet href=https://erikmcclure.com/css/main.css><link rel=stylesheet href=https://erikmcclure.com/css/prism.css rel=stylesheet><link rel=stylesheet href=https://erikmcclure.com/css/katex.min.css rel=stylesheet><link rel=stylesheet href=https://erikmcclure.com/css/fontawesome.min.css><link rel=stylesheet href=https://erikmcclure.com/css/regular.min.css><link rel=stylesheet href=https://erikmcclure.com/css/brands.min.css><link rel=stylesheet href=https://erikmcclure.com/css/solid.min.css><link rel=alternate type=application/rss+xml title="Erik McClure - RSS" href=https://erikmcclure.com/blog/index.xml><meta property="og:type" content="website"><title>Blogs - Erik McClure</title><meta property="og:title" content="Blogs - Erik McClure"><meta name=twitter:title content="Blogs - Erik McClure"><meta itemprop=name content="Blogs - Erik McClure"><meta name=description content="Applied mathematician and software architect who occasionally writes music."><meta property="og:description" content="Applied mathematician and software architect who occasionally writes music."><meta name=twitter:description content="Applied mathematician and software architect who occasionally writes music."><meta itemprop=description content="Applied mathematician and software architect who occasionally writes music."><meta property="og:url" content="https://erikmcclure.com/"><meta property="og:site_name" content="Erik McClure"><meta property="og:image" content="https://erikmcclure.com/img/avatar.png"><meta property="og:locale" content="en-US"><meta property="article:author" content="Erik McClure"><meta name=twitter:card content="summary"><meta name=twitter:site content="@erikmcclure0173"><meta name=twitter:creator content="@erikmcclure0173"><meta name=twitter:image content="https://erikmcclure.com/img/avatar.png"><meta name=twitter:dnt content="on"><link href=https://plus.google.com/104896885003230920472 rel=publisher><meta itemprop=image content="https://erikmcclure.com/img/avatar.png"><meta name=last-updated content="20250119-10:16:00.000"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-63026815-3"></script>
<script defer src=https://erikmcclure.com/syntax-prism.js></script>
<script defer src=https://erikmcclure.com/katex.min.js></script>
<script defer src=https://erikmcclure.com/mathtex-script-type.min.js></script>
<script defer src=https://erikmcclure.com/auto-render.min.js></script>
<script defer src=https://cdn.commento.io/js/count.js></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-63026815-3")</script></head><body><div id=container><header><nav><ul><li><a href=/blog/ title=Blog><i class="fa-solid fa-book fa-fw fa-lg"></i>&nbsp;<p>Blog</p></a></li><li><a href=/projects/ title=Projects><i class="fa-solid fa-briefcase fa-fw fa-lg"></i>&nbsp;<p>Projects</p></a></li><li><a href=https://erikmcclure.bandcamp.com title=Bandcamp><i class="fa-brands fa-bandcamp fa-fw fa-lg"></i>&nbsp;<p>Bandcamp</p></a></li><li><a href=https://github.com/erikmcclure title=Github><i class="fa-brands fa-github fa-fw fa-lg"></i>&nbsp;<p>Github</p></a></li><li><a href=/web/ title=Websites><i class="fa-solid fa-globe fa-fw fa-lg"></i>&nbsp;<p>Websites</p></a></li></ul></nav><div class=dim><h1>Erik McClure</h1></div></header><main class=blog><section><article><h4><a href=/blog/c-to-c-tutorial-part-1-basics-of-syntax/>C# to C++ Tutorial - Part 1: Basics of Syntax</a></h4><hr><div class=padding><p>[ <strong>1</strong> · <a href=https://erikmcclure.com/blog/c-to-c-tutorial-part-2-pointers/>2</a> · <a href=https://erikmcclure.com/blog/c-to-c-tutorial-part-3-classes-and/>3</a> · <a href=https://erikmcclure.com/blog/c-to-c-tutorial-part-4-operator-overload/>4</a> <span style=color:#aaa>· 5 · 6 · 7</span> ]</p><p>When moving from C# to C++, one must have a very deep knowledge of what C# is actually doing when you run your program. Doing so allows you to recognize the close parallels between both languages, and why and how they are different. This tutorial will assume you have a fairly strong grasp of C#, but may not be familiar with some of its more arcane attributes.</p><p>In C#, everything is an object, or a static member of an object. You can&rsquo;t have a function just floating around willy-nilly. However, like all programs, a C# program must have an entry-point. If you have primarily done GUI-based design, you probably aren&rsquo;t aware of the entry-point that is automatically generated, but it is definitely there, and like everything else, it&rsquo;s part of an object. C# actually allows you to change the entry point function, but a default C# project will automatically generate a Program.cs file that looks like this:</p><p><pre class=language-csharp><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Windows.Forms;

namespace ScheduleTimer
{
  static class Program
  {
    /// &lt;summary&gt;
    /// The main entry point for the application.
    /// &lt;/summary&gt;
    [STAThread]
    static void Main()
    {
      Application.EnableVisualStyles();
      Application.SetCompatibleTextRenderingDefault(true);
      Application.Run(new frmMain());
    }
  }
}
</code></pre><code>static void Main()</code> is the real entry point for your application, which simply initializes visual styles and then immediately launches the form that most C# users are accustomed to working with. Now, we can compare this with a simple &ldquo;Hello World&rdquo; C++ program:</p><p><pre class=language-cpp><code>#include &lt;iostream&gt;

int main(int argc, char *argv[])
{
  std::cout &lt;&lt; &#34;Hello World&#34;;
  return 0;
}
</code></pre>This program, to a C# user, immediately looks foreign and possibly even outright hostile. However, almost everything in it has a direct analogue in C#, despite the rather inane syntax that is being used. The most glaring example here is the insertion operator, &#171;, because almost no one ever uses it except for in streams and the fact that it&rsquo;s in a C++ Hello World program creates an absurd amount of confusion. It&rsquo;s just a fancy way of doing this:<pre class=language-cpp><code>
#include &lt;iostream&gt;

int main(int argc, char *argv[])
{
  std::cout.write(&#34;Hello World&#34;,11);
  return 0;
}
</code></pre>Now, counting the number of bytes you are pumping into the stream is really annoying, and that&rsquo;s what the insertion operator does for you; it properly formats everything automatically. That&rsquo;s all. It&rsquo;s not a demon from hell bent on destroying your life, its just weird syntax. I don&rsquo;t know why they don&rsquo;t also have this functionality in a much easier to understand overloaded function, but there are a lot of things that they don&rsquo;t do, so we&rsquo;ll just have to live with it.</p><p>The <code>main()</code> function here serves the same exact purpose as the <code>Main()</code> function in C#. Strict C++ requires you to have a <code>main()</code> function to serve as an entry point, but various operating systems modify it and, in the case of Windows, outright replace it. As such, you will notice that your &ldquo;hello world&rdquo; C++ program, when built, opens in a command line. You will learn later how to prevent this by using Windows&rsquo; proprietary entry function. For those of you familiar with C#, this is exactly the same as C#&rsquo;s ability to change around the entry point of the application, and you can even make a command line application in C# too by properly changing the compiler settings. The same concept applies to C++, but unlike C#, which defaults to a GUI, C++ defaults to a command line. Changing the compiler settings properly will result in a C++ program that starts in a GUI, just like C# (although unlike C#, C++ doesn&rsquo;t have any help, which turns GUI programming into a complete nightmare).</p><p>So now that we have a direct analogue between C# and C++ in terms of where our application <em>starts</em>, we need to deal with a conceptual difference in how C# and C++ handle <em>dependencies</em>. In C#, your class file is just <code>Class.cs</code>, your helper class is <code>Helper.cs</code>, and both of them can call the other one provided they are in the same namespace, or if you are inheriting someone else&rsquo;s, using the correct <code>using</code> statements to resolve the code. If these concepts are not familiar to you, you should learn more about C# before delving further into C++.</p><p>C++, on the other hand, does not do behind-the-scenes magic to help you resolve your dependencies. To understand what C++ is doing, one must understand how any compiler resolves references inside code (including C#). When the C# compiler is compiling your project, it goes through each of your code files <strong>one by one</strong> and compiles everything to an intermediate object code that will later be compiled down into the machine code (or, in this case, bytecode, since C# is an interpreted language). But wait, what if it&rsquo;s compiling <code>Class.cs</code> before <code>Helper.cs</code> even though <code>Class</code> instantiates a <code>Helper</code> object and calls some functions inside of it that then instantiate another <code>Class</code> object? Well, what if you compiled <code>Helper.cs</code> first&mldr; but <code>Helper.cs</code> needs <code>Class.cs</code> to be compiled first because its instantiating a <code>Class</code> object inside the function that the <code>Class</code> object is calling! That&rsquo;s a circular dependency! <em><del>THIS IS IMPOSSIBLE OH GOD WE&rsquo;RE GOING TO DIE</del></em> No, it&rsquo;s actually quite simple to deal with. Enter <em>prototypes</em>. If you have the following C# class:</p><p><pre class=language-csharp><code>using System;

namespace FunFunBunBuns
{
  class Class
  {
    private int _yay;
    private int _bunnies;

    // Constructor
    public Class(int yay)
    {
      _yay = yay;
      _bunnies = 0; // :C
    }

    // Destructor
    public ~Class()
    {
      _yay = 0;
    }

    public void IncrementYay()
    {
      _yay++;
    }
    
    public int MakeBunnies(int num) // :D
    {
      _bunnies = _bunnies + num;
      return _bunnies;
    }
  }
}
</code></pre>Making &ldquo;prototypes&rdquo; of these functions (which C# doesn&rsquo;t have so this will be invalid syntax) would be the following:</p><p><pre class=language-csharp><code>using System;

namespace FunFunBunBuns
{
  class Class
  {
    private int _yay;
    private int _bunnies;

    // Constructor
    public Class(int yay);
    // Destructor
    public ~Class();
    public void IncrementYay();
    public int MakeBunnies(int num);
  }
}
</code></pre>Notice the distinct lack of code - this is how circular references get resolved. It turns out that to properly compile your program, the compiler only has to know what a function takes in as arguments, and what it returns. By treating the function as a &ldquo;black box&rdquo; of sorts, the compiler can ignore whatever code is inside it. Notice that this applies to constructors and destructors as well - they are simply special functions inside the class. In this manner the entire class can be treated as a bunch of black-box functions that don&rsquo;t actually have any code that needs to be compiled in them. What the C# compiler does is create a bunch of these prototypes behind the scenes and feed them in front of all your code files, so it first compiles <code>Class.cs</code> using a prototype of the <code>Helper</code> class, which allows it to instantiate and use any functions that <code>Helper</code> defines without actually knowing the code inside them. Then, it compiles <code>Helper.cs</code>, compiling assigning code to the previously empty black-box functions defined in the <code>Helper</code> prototype, using a prototype of <code>Class</code> so that it can also instantiate and call functions from <code>Class</code>. In this way, both <code>Helper.cs</code> and <code>Class.cs</code> can be compiled in any order.</p><p>But wait, what if <code>Class</code> inherits <code>Helper</code>? In reality, this changes nothing. An important lesson here is that, in C++, you will not be able to simply ignore the fact that <em>everything is a function</em>. Classes are just an abstraction - in reality, inheritance, constructors, deconstructors, operators, everything is just various special functions. Python&rsquo;s class syntax is interesting because requires that all class functions explicitly define the <code>self</code> parameter (which is identical to the <code>this</code> reference in C++ and C#), even the class constructor. Both C++ and C# hide all this from you, so Constructors and Destructors and class functions all magically just work, even though underneath it all they&rsquo;re just ordinary functions with a special parameter that&rsquo;s hidden from view. This is, in fact, how one mimics class behavior in C, which does not have object-oriented features - simply build a struct and make a bunch of functions for it that take a &ldquo;this&rdquo; pointer, or a pointer to a specific struct on which the function operates. This behavior can be (needlessly) duplicated using C# - let&rsquo;s transform our <code>Class</code> class to C-style function implementations, ignoring the slightly invalid C# syntax.</p><p><pre class=language-csharp><code>using System;

namespace FunFunBunBuns
{
  struct Class
  {
    private int _yay;
    private int _bunnies;
  };

  public Constructor(Class this, int yay)
  {
    this._yay = yay;
    this._bunnies = 0; // :C
  }

  public Destructor(Class this)
  {
    this._yay = 0;
  }

  public void IncrementYay(Class this)
  {
    this._yay++;
  }
    
  public int MakeBunnies(Class this, int num) // :D
  {
    this._bunnies = this._bunnies + num;
    return this._bunnies;
  }
}
</code></pre>Thankfully, we don&rsquo;t have to worry about this, since thinking of class functions as functions that operate on the object is a lot more intuitive. However, one must be aware that even in inheritance scenarios, everything is just a function, or an overload of a virtual function, or something similar (if you do not know what virtual functions are, you need to learn more C# before proceeding). Consequently, our ability to declare function prototypes solves <em>all</em> the dependency issues, because <em>everything</em> is a function.</p><p>This is where we get into exactly what the <code>#include</code> directive is for. In C#, all your files are automatically accessible from every other file, and this isn&rsquo;t a problem because compilation is nigh-instantaneous. C++ is much more intensive to compile, partially because it doesn&rsquo;t have a precompiled 400 MB library of crap to work off of, and partially due to a much more complicated precompiler. That means in C++, if you want a given file to have access to another file, you have to <code>#include</code> that file. In our Hello World application, we are including <code>iostream</code>, which does not have a .h file extension on the end for stupid regulatory reasons. However, what about the file our code is in? Our code is not in a .h file, its in a .cpp file. This is where we get to a critical difference between C# and C++. While C# just has .cs files for code, <strong>C++ has two types of files: header files and code files</strong>.</p><code>.cpp == C++ (C-plus-plus) code file
.h = C++ Header file</code><p>Header files contain class and function prototypes, and code files contain all the actual code. A C++ project is therefore defined entirely by a list of .cpp files that need to be compiled. Header files are just little helper files that make resolving dependencies easier. C# does this for you - C++ does not. Note that because these are technically arbitrary file distinctions, you can put whatever you want in either file type; nothing will stop you from doing <code>#include "main.cpp"</code>, its just ridiculous and confusing. Both <code>#include &lt;></code> and <code>#include ""</code> are valid syntax for the <code>#include</code> directive, there is no <em>real</em> difference. Standard procedure, however, is that <code>#include &lt;></code> is used for any header files outside of your project, and <code>#include ""</code> is used for header files inside your project, or closely related to it.</p><p>So what we&rsquo;re doing when we say <code>#include &lt;iostream></code> is that we&rsquo;re including a bunch of prototypes for various input/output stream (i/o stream &ndash;> iostream) related classes defined in the standard library, which your compiler already has the corresponding .cpp implementations of built into it. So, the compiler links the application against this header file, and when you use <code>std::cout</code>, it just treats everything in it (including that ridiculously obtuse <code>&lt;&lt; operator</code>, which is really just another function) as a black-box function.</p><p><a id=header-code>Consequently</a>, unless you know what your doing, you should keep code out of header files. C++ doesn&rsquo;t prevent you from throwing functions that aren&rsquo;t attached to classes all over the place, like C# does, so what would happen if you defined <code>int ponies() { return 0; }</code> in a header file that you include in two seperate .cpp files? The compiler will try to compile the function twice, and on the second time it will explode because the function it tried to put code into already had code in it, since it wasn&rsquo;t a prototype! <strong>EVERYTHING DIES!</strong> So until you get to the more advanced areas of C++, don&rsquo;t put code in your header files (unless you want to watch your compiler die, you monster).</p><p>At this point I want to clarify what <code>std::</code> is, because it looks rather weird to a C# programmer. In C#, the <code>. operator</code> works on everything - you just have <code>System.Forms.Whatever.Help.Im.Trapped.In.A.Universe.Factory.Your.Class.Member.Function()</code> and its all good. In C++, that&rsquo;s not going to work anymore. The <code>:: operator</code> is known as the Scope Resolution Operator. It&rsquo;s a lot easier to explain if I first explain what the <code>. operator</code> has been demoted to. You can only use the <code>. operator</code> on a <em>reference or value type</em> of an <em>instantiated object</em> (basically everything you&rsquo;ve ever worked with in C#). The important distinction here is that <strong>static functions cannot be accessed with the <code>. operator</code> anymore</strong>. This is because Static functions, along with namespaces and typedefs and <em>everything else</em> must use the Scope Resolution Operator. Consequently, you can think of the <code>. operator</code> as being demoted to just calling class functions, and everything else now uses the <code>:: operator</code>. So, <code>std::cout</code> just means that we&rsquo;re access the <code>cout</code> class in the <code>std</code> namespace.</p><p>Now we just have one more hurdle to overcome with the &ldquo;Hello World&rdquo; application, that funky <code>char* argv[]</code> parameter in <code>main()</code>. Most C# programmers can correctly infer that it is probably an array of some sort, but we don&rsquo;t know what type <code>char*</code> is, other than its clearly related to <code>char</code>.</p><p><code>char*</code> is a <strong>pointer</strong>. Yes, the same scary pointers you hear about all the time. No, they aren&rsquo;t really scary. In fact, you have been using similar concepts in C# all the time without actually realizing it. First, however, let&rsquo;s take a hard look at what a pointer really is.</p><p>Everything in your entire program takes up <strong>memory</strong>. Since this tutorial is designed for people who know C# already, I really, really hope you already knew that. What you might not know is that all this memory has a specific location on the machine. In fact, on a 32-bit machine, <strong>every single possible location of a byte</strong> can be contained in <strong>an unsigned 32-bit integer</strong>. This is why we are currently moving to 64-bit CPUs, because an unsigned 32-bit integer can only hold up to 4294967295 possible byte locations, which amounts to 4.2 gigs of memory. That&rsquo;s why you are limited to 4 gigs of RAM on a 32-bit machine, and windows has difficulty using more than 2 gigs because a lot of older programs assumed that a <strong>signed</strong> 32-bit integer was sufficient for all memory addresses, so windows has to do some funky memory paging techniques to get programs that ignore the last bit to use memory locations above 2147483647.</p><p>So, if you allocate a float, either on the stack or on the heap, <em>it must exist somewhere within those 4294967295 possible byte locations</em>. Consequently, lets say you want to call a function that modifies that float, but the function has to have a void return value for some arbitrary reason. If you know where in memory that float is, you can tell the function where to find the float and modify it to the desired value without ever returning a value. Here is an example C++ function doing just that (which is syntactically valid all by itself because C++ allows functions outside of classes):</p><p><pre class=language-cpp><code>void ModifyFloat(float* p)
{
  *p = 100.0;
}

int main(int argc, char* argv[])
{
  float x = 0; //x is equal to 0.0
  ModifyFloat( &amp;x );
  // x is now equal to 100.0
}
</code></pre>What&rsquo;s going on here? First, we have our <code>ModifyFloat()</code> function. This takes a pointer to a <code>float</code>, which is declared by adding a <code>*</code> to the desired type we want to make a pointer to. Remember that pointers are really just 32-bit integers (or 64-bit if you have a 64-bit operating system), but C++ assigns them a type so that if you try to assign a <code>double</code> to a pointer to a <code>float</code>, it throws an error instead of overflowing 4 extra bytes, causing a heap corruption and destroying the universe. So <code>char*</code> is a pointer to a <code>char</code>, a <code>double*</code> points to a <code>double</code>, and <code>Helper*</code> is a pointer to our own <code>Helper</code> class.</p><p>The next thing done in <code>ModifyFloat()</code> is <code>*p</code>. In this case, the <code>* operator</code> is the <em>dereference</em> operator. So unfortunately <code>*</code> is the multiply, pointer, and dereference operator in C++. Yes, this is retarded. I&rsquo;m sorry. But what the heck does dereference even mean? It takes a pointer type and turns it into a <em>reference</em>. You already know what a reference is, even if you don&rsquo;t realize it. In C#, you can pass a variable of your <code>Helper</code> class into a function, modify the class in the function, and the original variable will get modified too! This is because, by default, classes are passed <em>by-reference</em> in C#. That means, even though it looks identical to a variable passed <em>by value</em>, any changes made to the variable are in fact made to whatever variable it references. So, this idea of passing variables in by reference should be familiar to an experienced C# programmer. C++ has references too, I just haven&rsquo;t gone over their syntax. Here&rsquo;s a more explicit version of the function:</p><p><pre class=language-cpp><code>void ModifyFloat(float* p)
{
  float&amp; ref_p = *p;
  ref_p = 100.0;
}
</code></pre>This is the exact same as the previous function, but here we can clearly see the reference. In C#, if you wanted a variable normally passed by value, like a struct, to get passed by reference, you had to override the default behavior by adding <code>ref</code>. In C++, a variable that is a reference to a given type is declared in a similar manner to a pointer. The <code>& operator</code> is used instead of <code>*</code>, so in this example, float& is a reference to a <code>float</code>. We assign it to the value produced by turning our pointer into a <code>float</code> reference. Then we just set our reference equal to 100.0 and it magically alters the original variable, just like it would in C#. In fact, here is the same function written in (slightly illegal) C#:</p><p><pre class=language-csharp><code>public static void ModifyFloat(ref float p)
{
  p=100.0;
}
</code></pre>This does the same thing, just without the pointer. In fact, we can totally ignore the pointer in C++ too, if we want (which I tend to prefer, when possible, because its a lot easier to work with):</p><p><pre class=language-cpp><code>void ModifyFloat(float&amp; ref_p)
{
  ref_p = 100.0;
}
int main(int argc, char* argv[])
{
  float x = 0; //x is equal to 0.0
  ModifyFloat( x );
  // x is now equal to 100.0
}
</code></pre>Now, in this implementation, you will notice that our call to <code>ModifyFloat</code> is now equivalent to what it would be in C#, in that we just pass in the variable. What happened to that random <code>& operator</code> we had there before? The <code>& operator</code> is also known as the <code>address-of operator</code>, meaning when its applied to a variable as opposed to a type, it returns a pointer to that variable (yay, more context-dependent redundant operators). So, we could rewrite our function as follows to make it a bit more clear:</p><p><pre class=language-cpp><code>void ModifyFloat(float* p)
{
  float&amp; ref_p = *p; //get a reference from the pointer
  ref_p = 100.0; //modify the reference
}
int main(int argc, char* argv[])
{
  float x = 0; //x is equal to 0.0
  float* p_x = &amp;x; //get a pointer to x
  ModifyFloat( p_x ); //pass pointer into function
  // x is now equal to 100.0 
}
</code></pre>As we can see, pointers are just the underlying work behind references. If you ever go into Managed C++, you&rsquo;ll find out that all C# references are really just pointers, but the language treats them as references so they&rsquo;re hidden from you. In C++, you can have both pointers and references. It is important to note that you can only <em>initialize</em> a reference variable. Any subsequent operators will be applied to whatever variable its referencing, making it impossible to get the address of a reference variable or do anything to the reference variable itself - for all intents and purposes, it just <em>is</em> the variable it references. This is why pointers are handy - you CAN reassign the actual pointer variable while also accessing the variable its pointing to. Consequently, you can also get the address of a pointer variable, since just like any other variable, including the reference variable, it must occupy memory, and therefore has a location that you can get a pointer to (we&rsquo;ll get to that syntax in a minute). But there&rsquo;s one more thing&mldr;</p><p><strong>What about arrays?</strong> In C#, arrays are actually a built-in class that has lots of fancy functions and whatnot. Interestingly, they are still of fixed size. C++ arrays are also fixed size, but they are manipulated as raw memory. Let&rsquo;s compare initializing an array in C++ and initializing an array in C#:</p><p><pre class=language-csharp><code>int[] numbers = new int[5];
</code></pre><pre class=language-cpp><code>int* numbers = new int[5];
</code></pre>It should be pretty obvious at this point that <em>arrays are pointers</em> in C++. I can even rewrite the above in C++ using an empty array syntax, and it will be equally as valid:</p><p><pre class=language-cpp><code>int numbers[] = new int[5];
</code></pre><strong><code>int *x*[]</code> is identical to <code>int* *x*</code></strong>. There is no difference. Observe the following modification of our original Hello World function:</p><p><pre class=language-cpp><code>int main(int argc, char** argv);
</code></pre>Same thing. In fact, if you watch your compiler output carefully, you might even see the compiler internally convert all the arrays to pointers when its resolving types. Now, as a C# programmer, you should already know what arrays are. You should probably also be at least dimly aware that each element of an array occupies memory directly after the element proceeding it. So, if you know where the address of the <em>first</em> element is, you know the second element is exactly <em>x</em> bytes afterwards, where <em>x</em> is the number of bytes your type takes up. This is why pointers have types associated with them - we know that <code>float*</code> points to an array of elements, and that each element takes up 4 bytes. To verify this, the <code>sizeof()</code> built-in function/operator/whatever will return the number of bytes a given type, class, or struct takes up. That&rsquo;s the number of bytes we skip ahead to get to the next element in an array. This is all done transparently in C++ using the same array index operator as C# uses:</p><p><pre class=language-cpp><code>int main(int argc, char** argv)
{
  int* ponies = new int[5];
  ponies[0] = 1; //First element..
  ponies[1] = 2; //Second element...
}
</code></pre>So pointers can be treated as arrays that behave exactly the same way a C# array does. However, the astute C# programmer would ask, how do you know how long the array is?</p><p><span style=color:red><h5>YOU DON'T</h5></span>Enter every single buffer overflow error that has been the bane of man since the beginning of time. <em>YOU</em> have to keep track of how long the array is, and you&rsquo;d better be damn sure you don&rsquo;t get it wrong. Consequently any function taking an array of variable size will also require a separate argument telling the function how many elements are in the array. Usually arrays are just constructed on the stack with a constant, known size, which is often harmless and pretty hard to screw up. If you start doing funky things with them, though, you might want to look up <a href=http://www.cplusplus.com/reference/stl/vector/>std::vector</a> for an encapsulated dynamic array.</p><p>So C++ arrays are just like C# arrays, except they are pointers to the first element, and you don&rsquo;t know how long they are (and they might cause the destruction of the universe if you screw up). You should already know that a string is an array, and consequently in C++ the standard string type is <code>const char*</code>, not <code>string</code>. You also can&rsquo;t put them in switch() statements. Sorry.</p><p>There&rsquo;s a lot of stuff about pointers that this tutorial hasn&rsquo;t covered, like function pointers and pointer arithmetic, which we&rsquo;ll get to next time.</p><p><a href=https://erikmcclure.com/blog/c-to-c-tutorial-part-2-pointers/>Part 2: Pointers To Everything</a></p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2011-07-06T04:26:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/c-to-c-tutorial-part-1-basics-of-syntax/>July 6, 2011 at 4:26am</a></time><aside><i class="fa-regular fa-comments fa-fw"></i>&nbsp;<a href=/blog/c-to-c-tutorial-part-1-basics-of-syntax/#commento>16 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fc-to-c-tutorial-part-1-basics-of-syntax%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=C%23%20to%20C%2b%2b%20Tutorial%20-%20Part%201%3a%20Basics%20of%20Syntax&url=https%3a%2f%2ferikmcclure.com%2fblog%2fc-to-c-tutorial-part-1-basics-of-syntax%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fc-to-c-tutorial-part-1-basics-of-syntax%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/ninth-circle-of-bugs/>The Ninth Circle of Bugs</a></h4><hr><div class=padding><p>So I&rsquo;m rewriting my <a href=www.blackspherestudios.com/storage/McClure_Erik_Regional_KD_Trees.pdf>2D culling kd-tree</a> for my graphics engine, and a strange bug pops up. On release mode, one of the images vanished. Since it didn&rsquo;t happen in debug mode, it was already a <code>heisenbug</code>. A <code>heisenbug</code> is defined as a bug that vanishes when you try to find it. It took me almost a day to trace the bug to the <code>rebalance</code> function. At first I thought the image had simply been removed from a node accidentally, but this wasn&rsquo;t the case. It took another day to finally figure out that the <code>numimages</code> variable was getting set to 0, thus causing the node to think it was empty and resulted in it deleting itself and removing itself from the tree (which caused all sorts of other problems).</p><p>Unfortunately, I could not verify the tree. Any attempt that so much as <em>touched</em> the tree&rsquo;s memory would wipe out the bug, or so I thought. Then I tried adding the verification function into an if statement that would only activate if the bug appeared - it did not. The act of adding a line of code <em>that was never executed</em> actually <strong>caused the bug to vanish</strong>.</p><p>I was absolutely stunned. This was completely insane. Following the advice of a friend, I was forced to assume the compiler somehow screwed something up, so I randomly disabled various optimizations in release mode. It turned out that disabling the <code>Omit Frame Pointers</code> optimization removed the bug. I didn&rsquo;t actually know what frame pointers <em>were</em>, only that I had turned on this optimization in many other projects for the hell of it and it had never caused any problems (no optimizations ever should, for that matter). What I discovered <a href="http://www.nynaeve.net/?p=91">was astonishing</a>. Frame pointers couldn&rsquo;t be omitted from a function if it got too complicated or needed to unwind the stack due to a possible exception. On a hunch, instead of adding the verification function to the chunk of code that was only executed if the error occurred, I instead added a vestigial <code>'throw "derp";'</code> line.</p><p><em>The problem vanished</em>.</p><p>I knew instantly that either the problem was caused by the omission of frame pointers, which would indicate a bug in the VC++ 2010 compiler (unlikely), or when the frame pointers were included, it masked the bug (much more likely). But I also had another piece of knowledge at my disposal - exactly how I could modify the function without masking the bug. I considered decompiling the function and forcing VC++ to use the flawed assembly, but that didn&rsquo;t allow me to modify the assembly in any meaningful way. A bit more experimentation revealed that any access of the root node, or for that matter, the <code>'this'</code> pointer itself (unless it was for calling a function) caused the inclusion of the frame pointer. I realized that a global variable would be exempt from this, and that I might be able to get by this limitation by assigning the address of whatever variable I needed to the global variable and passing that into the function instead.</p><p>This approach, however, failed. In fact most attempts to get around the frame pointer inclusion failed. I did, however, notice what appeared to be a separate bug in another part of the tree. A short investigation later revealed an unrelated bug in the tree caused by the solve function. However, what was causing this bug (duplicated parentC pointers) still threw up errors after solving the first bug, indicating that it was possible this mysterious insane compiler induced bug was just a symptom of a deeper one that would be easier to detect. After more hunting, a second unrelated bug was found. Clearly this tree was not nearly as stable as I had thought it was.</p><p>A third bug was eventually found, and I discovered the root cause of this bug to be an #NaN float value in the tree. This should never ever, ever happen, because it destabilizes the tree, but sure enough, I finally found the cause.</p><code>_totalremove(node->total,(const float (&)[4])currect);</code><p>Casting from a float* that was previous cast from a float[4] causes read errors at totally random times, despite this being completely valid under the circumstances. My only guess is that the compiler somehow interpreted this cast as undefined behavior and went crazy. I will never know. All I know is that I should never, ever, ever, ever, ever cast to that data type ever again, because guess what? After removing all my debug equipement and putting the cast back in, I was able to reliable reproduce the bug that started this whole mess, and removing the cast made the bug vanish.</p><p>This entire week long trek through hell was because the compiler fucked up on a goddamn <em>variable cast</em>. It wasn&rsquo;t a memory leak, it wasn&rsquo;t a buffer overrun, it was just a goddamn <em>miscast variable</em>.</p><p>Lesson: Re-validate every inch of your data structure the instant you realize you have a heisenbug, and make sure your validation function properly checks for all things that can screw things up.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2011-05-15T04:43:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/ninth-circle-of-bugs/>May 15, 2011 at 4:43am</a></time><aside><i class="fa-regular fa-comments fa-fw"></i>&nbsp;<a href=/blog/ninth-circle-of-bugs/#commento> comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fninth-circle-of-bugs%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=The%20Ninth%20Circle%20of%20Bugs&url=https%3a%2f%2ferikmcclure.com%2fblog%2fninth-circle-of-bugs%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fninth-circle-of-bugs%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/investigating-low-level-cpu-performance/>Investigating Low-level CPU Performance</a></h4><hr><div class=padding><p>While reconstructing my threaded Red-Black tree data structure, I naturally assumed that due to invalid branch predictions costing significant amounts of performance, by eliminating branching in low-level data structures, one can significant enhance the performance of your application. I did some profiling and was stunned to discover that my new, optimized Red Black tree was&mldr; <em>SLOWER</em> then the old one! This can&rsquo;t be right, I eliminated several branches and streamlined the whole thing, how can it be <em>SLOWER?!</em> I tested again, and again, and again, but the results were clear - even with fluctuations of up to 5% in the results, the average speed for my new tree was roughly 7.5% larger then my old one (the following numbers are the average of 5 tests).</p><p>Old: 626699 ticks
New: 674000 ticks</p><pre class=language-cpp><code>//Old
c = C(key, y-&gt;_key);
if(c==0) return y;
if(c&lt;0) y=y-&gt;_left;
else y=y-&gt;_right;

//New
if(!(c=C(key,y-&gt;_key)))
return y;
else
y=y-&gt;_children[(++c)&gt;&gt;1];
</code></pre><p>Now, those of you familiar with CPU branching and other low-level optimizations might point out that the compiler may have optimized the old code path more effectively, leaving the new code path with extra instructions due to the extra increment and bitshift operations. <strong>Wrong.</strong> Both code paths have the <em>exact same number of instructions</em>. Furthermore, there are only <em><strong>FOUR</strong></em> instructions that are different between the two implementations (highlighted in red below).</p><span><table cellpadding=0 cellspacing=0><tr><td><b>New</b><pre>00F72DE5  mov         esi,dword ptr [esp+38h]  
00F72DE9  mov         eax,dword ptr 
00F72DEE  cmp         esi,eax  
00F72DF0  je          main+315h (0F72E25h)  
00F72DF2  mov         edx,dword ptr [esp+ebx*4+4ECh]
<span style=color:red>00F72DF9  lea         esp,[esp]</span>
00F72E00  mov         edi,dword ptr [esi+4]  
00F72E03  cmp         edx,edi  
00F72E05  jge         main+2FCh (0F72E0Ch)  
00F72E07  or          ecx,0FFFFFFFFh  
00F72E0A  jmp         main+303h (0F72E13h)  
00F72E0C  xor         ecx,ecx  
00F72E0E  cmp         edx,edi  
00F72E10  setne       cl  
00F72E13  movsx       ecx,cl  
00F72E16  test        ecx,ecx  
00F72E18  je          main+317h (0F72E27h)  
<span style=color:red>00F72E1A  inc         ecx  </span>
<span style=color:red>00F72E1B  sar         ecx,1  </span>

00F72E1D  mov         esi,dword ptr [esi+ecx*4+18h]  
00F72E21  cmp         esi,eax  
00F72E23  jne         main+2F0h (0F72E00h)  
00F72E25  xor         esi,esi  
00F72E27  mov         eax,dword ptr [esi]  
00F72E29  add         dword ptr [esp+1Ch],eax</pre></td><td><b>Old</b><pre>00F32DF0  mov         edi,dword ptr [esp+38h]  
00F32DF4  mov         ebx,dword ptr 
00F32DFA  cmp         edi,ebx  
00F32DFC  je          main+31Dh (0F32E2Dh)  
00F32DFE  mov         edx,dword ptr [esp+eax*4+4ECh]  

00F32E05  mov         esi,dword ptr [edi+4]  
00F32E08  cmp         edx,esi  
00F32E0A  jge         main+301h (0F32E11h)  
00F32E0C  or          ecx,0FFFFFFFFh  
00F32E0F  jmp         main+308h (0F32E18h)  
00F32E11  xor         ecx,ecx  
00F32E13  cmp         edx,esi  
00F32E15  setne       cl  
00F32E18  movsx       ecx,cl  
00F32E1B  test        ecx,ecx  
00F32E1D  je          main+31Fh (0F32E2Fh)  
<span style=color:red>00F32E1F  jns         main+316h (0F32E26h)  </span>
<span style=color:red>00F32E21  mov         edi,dword ptr [edi+18h]  </span>
<span style=color:red>00F32E24  jmp         main+319h (0F32E29h)  </span>
00F32E26  mov         edi,dword ptr [edi+1Ch]  
00F32E29  cmp         edi,ebx  
00F32E2B  jne         main+2F5h (0F32E05h)  
00F32E2D  xor         edi,edi  
00F32E2F  mov         ecx,dword ptr [edi]  
00F32E31  add         dword ptr [esp+1Ch],ecx</pre></td></tr></table></span><p>I have no real explanation for this behavior, but I do have a hypothesis: The important instruction is the extra <em>LEA</em> in my new method that appears to be before the branch itself. As a result, it may be possible for the CPU to be doing branch prediction in such a way it shaves off one instruction, which gives it a significant advantage. It may also be that the branching is just <em>faster</em> then my increment and bitshift, although I find this highly unlikely. At this point I was wondering if anything I knew about optimization held any meaning in the real world, or if everything was just a lot of guesswork and profiling because <em>what the fuck?!</em> However, it then occurred to me that there was an optimization possible for the old version - Move the if(c==0) statement to the bottom so the CPU does the (c&lt;0) and (c>0) comparisons first, since the c==0 comparison only happens once in the traversal. Naturally I was a bit skeptical of this having any effect on the assembly-rewriting, branch-predicting, impulsive teenage bitch that my CPU was at this point, but I tried it anyway.</p><p>It worked. There was a small but noticeable improvement in running time by using the old technique and rewriting the if statements as such:<pre class=language-cpp><code>c = C(key, y-&gt;_key);
if (c &lt; 0)  y = y-&gt;_left;
else if(c &gt; 0) y = y-&gt;_right;
else return y;
</code></pre></p><p>Optimized: 610161.8 Ticks</p><p>The total performance improvement over my failed optimization attempt and my more successful branch-manipulation technique is a whopping 63838.2 Ticks, or a ~10% improvement in speed, caused by simply rearranging 4 or 5 instructions. These tests were done on a randomized collection of 500000 integers, so that means the optimized version can pack in 10% more comparisons in the same period of time as the bad optimization. That&rsquo;s 550000 vs 500000 elements, which seems to suggest that delicate optimization, even in modern CPUs, can have significant speed improvements. Those of you who say that toying around with low level code can&rsquo;t infer significant performance increases should probably reconsider exactly what you&rsquo;re claiming. This wouldn&rsquo;t directly translate to 50000 extra players on your server, but a 10% increase in speed isn&rsquo;t statistically insignificant.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2011-04-10T17:06:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/investigating-low-level-cpu-performance/>April 10, 2011 at 5:06pm</a></time><aside><i class="fa-regular fa-comments fa-fw"></i>&nbsp;<a href=/blog/investigating-low-level-cpu-performance/#commento>4 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2finvestigating-low-level-cpu-performance%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Investigating%20Low-level%20CPU%20Performance&url=https%3a%2f%2ferikmcclure.com%2fblog%2finvestigating-low-level-cpu-performance%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2finvestigating-low-level-cpu-performance%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/im-failure/>The IM Failure</a></h4><hr><div class=padding><p>This is completely insane. First, Microsoft has rendered its new Windows Live Messenger (previously MSN messenger) almost completely useless.</p><ul><li>No more handwriting</li><li>No more setting your name to anything other then your first and last name.</li><li>All links you click on redirect you to a page from Microsoft warning you about the dangers of the internet, requiring you to click a link to proceed.</li><li>All photosharing is now incompatible with previous versions of messenger, and instead of actually just sending the file, it will instead fail completely.</li><li>Any youtube video, image, or any other link you copy paste into the window will automatically trigger a sharing session whether you like it or not.</li><li>It will, at times, randomly decide none of your messages are getting through.</li><li>You can no longer have a one-sided webcam session. WLM will simply leave your webcam as a giant, useless blank image underneath your conversation partner, demanding that you buy a webcam.</li><li>It&rsquo;s new emoticons must have been influenced by H.R.Giger (you can&rsquo;t turn them off and leave custom ones on).</li></ul><p>Naturally I wasn&rsquo;t able to put up with this for very long and moved to pidgin. Pidgin has many issues of its own, including an ass-backwards UI design and this really annoying tendency to create a new popup window to confirm every single file transfer, among other truly bizarre UI design elements. I was willing to put up with these, because honestly pidgin is designed for Linux and just happens to work on windows too, and their libpurple library is the basis of almost all open-source IM clients.</p><p>Pidgin, however, has now stopped working as well. It now spastically refuses to connect to the MSN service because the SSL certificate is invalid. I can appreciate it trying to protect my privacy, but there is no way to override this. So, pidgin is now out of the question.</p><p>Well, how about Trillian? During its installation, Trillian informed me that &ldquo;The Adobe Flash 9.0 plugin for Internet Explorer could not be found. This plugin is required for some of Trillian&rsquo;s features.&rdquo;</p><p>Trillian is no longer on my computer.</p><p>After digging around on wikipedia, I came up with Miranda IM, which seemed to be my last hope for a multi-protocol service that didn&rsquo;t suck total ass. It supported WLM, AIM, and&mldr; not google talk? Not XMPP, the most useful extensible open source protocol? Um, ok. Its UI design is more compact then Pidgin but arguably even worse, and it doesn&rsquo;t support custom emoticons or hardly ANYTHING on the WLM protocol. It served its purpose by at least letting me log the fuck in like I wanted to, though.</p><p>This is driving me up the wall. If anything else happens, I&rsquo;m going to snap and simply <em>make time</em> to work on <em><strong>my own</strong></em> IM client implementation that doesn&rsquo;t have <strong>glaring design flaws</strong> like <em>every single other one</em>. Honestly, requiring the Internet Explorer flash plugin to run everything? What the fuck are they smoking? What the hell is wrong with these developers?!</p><p>If only D had a good development environment, then I could write my IM client in it.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2010-11-18T03:56:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/im-failure/>November 18, 2010 at 3:56am</a></time><aside><i class="fa-regular fa-comments fa-fw"></i>&nbsp;<a href=/blog/im-failure/#commento> comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fim-failure%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=The%20IM%20Failure&url=https%3a%2f%2ferikmcclure.com%2fblog%2fim-failure%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fim-failure%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/album-for-sale-renascent/>Album For Sale! [Renascent]</a></h4><hr><div class=padding><p>Due to Bandcamp&rsquo;s sudden threat to turn all of my free downloads into paid ones, I decided to go ahead and start selling my music properly. <a href=http://erikmcclure.bandcamp.com/album/renascent>Renascent</a> is now available for $3, or about as much as a gallon of milk costs. It contains remastered, super high quality (lossless if you choose to download in FLAC format) versions of all 14 songs, in addition to the original FLP project files used to create them. If you have ever wondered how I made a particular song, this might be another incentive to purchase the album. Note that these FLPs are released under the <a href=http://creativecommons.org/licenses/by-nc-nd/3.0/>Creative Commons Attribution-NonCommercial-NoDerivs 3.0</a> license, so you can&rsquo;t go running off with them like free candy.</p><p><strong>Track List:</strong></p><ol><li>On The Edge (2:56)</li><li>Renascent (4:06)</li><li>The Boundless Sea (6:49)</li><li>Duress (2:40)</li><li>Seaside Lookout (4:54)</li><li>Sapphire [Redux] (2:20)</li><li>Absolutia (3:04)</li><li>The Plea (3:46)</li><li>Now (2:34)</li><li>Alutia (4:10)</li><li>Rite (5:20)</li><li>Crystalline Cloudscape (4:04)</li><li>All Alone (3:06)</li><li>SunStorm (4:12)</li></ol><p><em>Total Time: 56:44</em></p><p><a href=http://erikmcclure.bandcamp.com/album/renascent>Listen and Buy It Here</a></p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2010-09-13T01:21:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/album-for-sale-renascent/>September 13, 2010 at 1:21am</a></time><aside><i class="fa-regular fa-comments fa-fw"></i>&nbsp;<a href=/blog/album-for-sale-renascent/#commento> comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2falbum-for-sale-renascent%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Album%20For%20Sale%21%20%5bRenascent%5d&url=https%3a%2f%2ferikmcclure.com%2fblog%2falbum-for-sale-renascent%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2falbum-for-sale-renascent%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><div class=pager><ul><li><a href=/blog/page/13>Newer</a></li><li style=text-align:center><a href=/blog/>Home</a></li><li style=text-align:right><a href=/blog/page/15>Older</a></li></ul></div></section><section class=archive><article><img src=https://erikmcclure.com/img/avatar.th.png alt=Avatar width=180 height=180><h2>Archive</h2><ol><li><details><summary>2025</summary><ul><li><a href=/blog/do-you-really-think-we-have-gender-in-the-future/>Do You Really Think We'll Have Genders In The Future?</a></li></ul></details></li><li><details><summary>2024</summary><ul><li><a href=/blog/stop-making-me-memorize-borrow-checker/>Stop Making Me Memorize The Borrow Checker</a></li><li><a href=/blog/rust-async-makes-me-want-to-gouge-my-eyes-out/>Rust Async Makes Me Want To Gouge My Eyes Out</a></li><li><a href=/blog/engineers-only-get-paid-something-broken/>Engineers Only Get Paid If Something Is Broken</a></li><li><a href=/blog/measuring-competence-is-epistemic-hell/>Measuring Competence Is Epistemic Hell</a></li><li><a href=/blog/we-could-fix-everything-we-just-dont/>We Could Fix Everything, We Just Don't</a></li></ul></details></li><li><details><summary>2023</summary><ul><li><a href=/blog/people-cant-care-about-everything/>People Can't Care About Everything</a></li><li><a href=/blog/discord-should-remove-usernames/>Discord Should Remove Usernames Entirely</a></li></ul></details></li><li><details><summary>2022</summary><ul><li><a href=/blog/money-is-fake/>Money Is Fake. It's Not Real. It's Made Up.</a></li><li><a href=/blog/we-need-new-motherboards/>We Need New Motherboards Before GPUs Collapse Under Their Own Gravity</a></li></ul></details></li><li><details><summary>2021</summary><ul><li><a href=/blog/cpp-constructors-memory-and-lifetimes/>C++ Constructors, Memory, and Lifetimes</a></li><li><a href=/blog/factorio-is-best-interview-we-have/>Factorio Is The Best Technical Interview We Have</a></li></ul></details></li><li><details><summary>2020</summary><ul><li><a href=/blog/why-you-cant-use-prebuilt-llvm-with-cpp17/>Why You Can't Use Prebuilt LLVM 10.0 with C++17</a></li><li><a href=/blog/pressure-based-anti-spam-for-discord-bots/>Pressure Based Anti-Spam for Discord Bots</a></li></ul></details></li><li><details><summary>2019</summary><ul><li><a href=/blog/name-shadowing-should-be-an-operator/>Name Shadowing Should Be An Operator</a></li><li><a href=/blog/a-rant-on-terra/>A Rant On Terra</a></li><li><a href=/blog/risc-is-fundamentally-unscalable/>RISC Is Fundamentally Unscalable</a></li></ul></details></li><li><details><summary>2018</summary><ul><li><a href=/blog/migrating-to-static-blog/>Migrating To A Static Blog</a></li><li><a href=/blog/how-to-avoid-memorizing-times-tables/>How To Avoid Memorizing Times Tables</a></li></ul></details></li><li><details><summary>2017</summary><ul><li><a href=/blog/ignoring-outliers-creates-racist/>Ignoring Outliers Creates Racist Algorithms</a></li><li><a href=/blog/i-used-to-want-to-work-for-google/>I Used To Want To Work For Google</a></li><li><a href=/blog/integrating-luajit-and-autogenerating-c/>Integrating LuaJIT and Autogenerating C Bindings In Visual Studio</a></li><li><a href=/blog/discord-rise-of-bot-wars/>Discord: Rise Of The Bot Wars</a></li><li><a href=/blog/companies-cant-be-apolitical/>Companies Can't Be Apolitical</a></li><li><a href=/blog/windows-wont-let-my-program-crash/>Windows Won't Let My Program Crash</a></li><li><a href=/blog/directx-is-terrifying/>DirectX Is Terrifying</a></li></ul></details></li><li><details><summary>2016</summary><ul><li><a href=/blog/everyone-does-srgb-wrong-because/>Everyone Does sRGB Wrong Because Everyone Else Does sRGB Wrong</a></li><li><a href=/blog/mathematical-notation-is-awful/>Mathematical Notation Is Awful</a></li></ul></details></li><li><details><summary>2015</summary><ul><li><a href=/blog/i-tried-to-install-linux-and-now-i/>I Tried To Install Linux And Now I Regret Everything</a></li><li><a href=/blog/you-arent-designing-software-for-robots/>We Aren't Designing Software For Robots</a></li><li><a href=/blog/using-data-to-balance-your-game-pony/>Using Data To Balance Your Game: Pony Clicker Analysis</a></li><li><a href=/blog/does-anyone-actually-want-good-software/>Does Anyone Actually Want Good Software?</a></li></ul></details></li><li><details><summary>2014</summary><ul><li><a href=/blog/how-not-to-sell-software/>How Not To Install Software</a></li><li><a href=/blog/can-we-choose-what-we-enjoy/>Can We Choose What We Enjoy?</a></li><li><a href=/blog/how-to-make-your-profiler-10x-faster/>How To Make Your Profiler 10x Faster</a></li><li><a href=/blog/the-problem-with-photorealism/>The Problem With Photorealism</a></li></ul></details></li><li><details><summary>2013</summary><ul><li><a href=/blog/googles-decline-really-bugs-me/>Google's Decline Really Bugs Me</a></li><li><a href=/blog/the-educational-imbroglio/>The Educational Imbroglio</a></li><li><a href=/blog/write-less-code/>Write Less Code</a></li><li><a href=/blog/most-people-have-shitty-computers/>Most People Have Shitty Computers</a></li><li><a href=/blog/leap-motion-impressions-input/>Leap Motion Impressions, Input Sanitation, and 3D Gesture Ideas</a></li><li><a href=/blog/aurora-theory-released/>Aurora Theory Released!</a></li><li><a href=/blog/what-i-learned-in-college/>What I Learned In College</a></li><li><a href=/blog/course-notes/>Course Notes</a></li><li><a href=/blog/contact/>Contact</a></li><li><a href=/blog/the-dark-side-of-htmlcss/>The Dark Side of Web Development</a></li><li><a href=/blog/windows-breaks-assert-inside/>Windows Breaks assert() Inside WM_CANCELMODE</a></li><li><a href=/blog/the-productivity-fallacy/>The Productivity Fallacy</a></li></ul></details></li><li><details><summary>2012</summary><ul><li><a href=/blog/c-to-c-tutorial-part-4-operator-overload/>C# to C++ Tutorial - Part 4: Operator Overload</a></li><li><a href=/blog/7-problems-raytracing-doesnt-solve/>7 Problems Raytracing Doesn't Solve</a></li><li><a href=/blog/analyzing-xkcd-click-and-drag/>Analyzing XKCD: Click and Drag</a></li><li><a href=/blog/coordinate-systems-and-cascading/>Coordinate Systems And Cascading Stupidity</a></li><li><a href=/blog/how-joysticks-ruined-my-graphics-engine/>How Joysticks Ruined My Graphics Engine</a></li><li><a href=/blog/multithreading-problems-in-game-design/>Multithreading Problems In Game Design</a></li><li><a href=/blog/stop-following-rules/>Stop Following The Rules</a></li><li><a href=/blog/why-windows-8-does-right-thing-wrong/>Why Windows 8 Does The Right Thing The Wrong Way</a></li><li><a href=/blog/visual-studio-broke-my-computer/>Visual Studio Broke My Computer</a></li><li><a href=/blog/implicit-ui-design/>Implicit UI Design</a></li><li><a href=/blog/linux-mint-12-kde/>Linux Mint 12 KDE</a></li><li><a href=/blog/new-post/>'Programmer' is an Overgeneralization</a></li></ul></details></li><li><details><summary>2011</summary><ul><li><a href=/blog/great-mystery-of-linear-gradient/>The Great Mystery of Linear Gradient Lighting</a></li><li><a href=/blog/signed-integers-considered-stupid-like/>Signed Integers Considered Stupid (Like This Title)</a></li><li><a href=/blog/c-to-c-tutorial-part-3-classes-and/>C# to C++ Tutorial - Part 3: Classes and Structs and Inheritance (OH MY!)</a></li><li><a href=/blog/problem-of-vsync/>The Problem of Vsync</a></li><li><a href=/blog/c-to-c-tutorial-part-2-pointers/>C# to C++ Tutorial - Part 2: Pointers Everywhere!</a></li><li><a href=/blog/c-to-c-tutorial-part-1-basics-of-syntax/>C# to C++ Tutorial - Part 1: Basics of Syntax</a></li><li><a href=/blog/ninth-circle-of-bugs/>The Ninth Circle of Bugs</a></li><li><a href=/blog/investigating-low-level-cpu-performance/>Investigating Low-level CPU Performance</a></li></ul></details></li><li><details><summary>2010</summary><ul><li><a href=/blog/im-failure/>The IM Failure</a></li><li><a href=/blog/album-for-sale-renascent/>Album For Sale! [Renascent]</a></li><li><a href=/blog/wavsaver/>WavSaver</a></li><li><a href=/blog/pixel-perfect-hit-testing/>Pixel Perfect Hit Testing</a></li><li><a href=/blog/8-bit-color-cycling/>8-bit color cycling</a></li><li><a href=/blog/physics-networking/>Physics Networking</a></li><li><a href=/blog/assembly-cas-implementation/>Assembly CAS implementation</a></li><li><a href=/blog/function-pointer-speed/>Function Pointer Speed</a></li><li><a href=/blog/most-bizarre-error-ever/>Most Bizarre Error Ever</a></li></ul></details></li><li><details><summary>2009</summary><ul><li><a href=/blog/physics-oriented-network-interpolation/>Physics-oriented Network Interpolation</a></li></ul></details></li></ol></article></section></main><footer><p><span>Copyright &copy;2025 Erik McClure</span> <a href=https://erikmcclure.com/sitemap.xml>Sitemap</a> | <a href=https://erikmcclure.com/blog/index.xml>RSS Feed</a></p></footer></div><script>"use strict";window.onload=function(){e=document.getElementsByClassName("math");for(var e,t=0,n=e.length;t<n;t++)renderMathInElement(e[t],{delimiters:[{left:"$$",right:"$$",display:!1},{left:"\\[",right:"\\]",display:!0}]})}</script></body></html>