<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=Edge"><meta http-equiv=permissions-policy content="interest-cohort=()"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#2b7bb5"><meta name=copyright content="Copyright (c)2024 Erik McClure"><meta name=keywords content="games,music,code,erik mcclure,erikmcclure,aurora theory,sweetie bot,discord,feathergui,fading light,tinyoal,cloud hop"><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=google-site-verification content="Oxb2ia8HjcHLXlvstA8xPpQO3BO_y15Ds2Ia-feq1MQ"><meta name=generator content="Hugo 0.119.0"><link rel=me href=https://equestria.social/@cloudhop><link rel=canonical href=https://erikmcclure.com/blog/><link rel=apple-touch-icon href=https://erikmcclure.com/favicon.ico><link rel="shortcut icon" type=image/x-icon href=https://erikmcclure.com/favicon.ico><link rel=stylesheet href=https://erikmcclure.com/css/main.css><link rel=stylesheet href=https://erikmcclure.com/css/prism.css rel=stylesheet><link rel=stylesheet href=https://erikmcclure.com/css/katex.min.css rel=stylesheet><link rel=stylesheet href=https://erikmcclure.com/css/fontawesome.min.css><link rel=stylesheet href=https://erikmcclure.com/css/regular.min.css><link rel=stylesheet href=https://erikmcclure.com/css/brands.min.css><link rel=stylesheet href=https://erikmcclure.com/css/solid.min.css><link rel=alternate type=application/rss+xml title="Erik McClure - RSS" href=https://erikmcclure.com/blog/index.xml><meta property="og:type" content="website"><title>Blogs - Erik McClure</title><meta property="og:title" content="Blogs - Erik McClure"><meta name=twitter:title content="Blogs - Erik McClure"><meta itemprop=name content="Blogs - Erik McClure"><meta name=description content="Applied mathematician and software architect who occasionally writes music."><meta property="og:description" content="Applied mathematician and software architect who occasionally writes music."><meta name=twitter:description content="Applied mathematician and software architect who occasionally writes music."><meta itemprop=description content="Applied mathematician and software architect who occasionally writes music."><meta property="og:url" content="https://erikmcclure.com/"><meta property="og:site_name" content="Erik McClure"><meta property="og:image" content="https://erikmcclure.com/img/avatar.png"><meta property="og:locale" content="en-US"><meta property="article:author" content="Erik McClure"><meta name=twitter:card content="summary"><meta name=twitter:site content="@erikmcclure0173"><meta name=twitter:creator content="@erikmcclure0173"><meta name=twitter:image content="https://erikmcclure.com/img/avatar.png"><meta name=twitter:dnt content="on"><link href=https://plus.google.com/104896885003230920472 rel=publisher><meta itemprop=image content="https://erikmcclure.com/img/avatar.png"><meta name=last-updated content="20240101-17:30:00.000"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-63026815-3"></script>
<script defer src=https://erikmcclure.com/syntax-prism.js></script>
<script defer src=https://erikmcclure.com/katex.min.js></script>
<script defer src=https://erikmcclure.com/mathtex-script-type.min.js></script>
<script defer src=https://erikmcclure.com/auto-render.min.js></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-63026815-3")</script></head><body><div id=container><header><nav><ul><li><a href=/blog/ title=Blog><i class="fa-solid fa-book fa-fw fa-lg"></i>&nbsp;<p>Blog</p></a></li><li><a href=/projects/ title=Projects><i class="fa-solid fa-briefcase fa-fw fa-lg"></i>&nbsp;<p>Projects</p></a></li><li><a href=https://erikmcclure.bandcamp.com title=Bandcamp><i class="fa-brands fa-bandcamp fa-fw fa-lg"></i>&nbsp;<p>Bandcamp</p></a></li><li><a href=https://github.com/erikmcclure title=Github><i class="fa-brands fa-github fa-fw fa-lg"></i>&nbsp;<p>Github</p></a></li><li><a href=/web/ title=Websites><i class="fa-solid fa-globe fa-fw fa-lg"></i>&nbsp;<p>Websites</p></a></li></ul></nav><div class=dim><h1>Erik McClure</h1></div></header><main class=blog><section><article><h4><a href=/blog/offworld-pack-orphans/>Kits And Pack Orphans First [Fiction]</a></h4><hr><div class=padding><p>ALTERNATIVE TITLE: Offworld Pack Orphan</p><p>NOTES: The message delay is 8 minutes ROUND TRIP, that means the wormhole is 4 light minutes away, or 3.5 light minutes away from the L2 point. This means it takes 17.5 minutes at 20% speed of light, or 20 minutes at 17% the speed of light for the round to reach the station. Having it at the L2 point would also make aiming easier.</p><p>Note that the bunkers are temporary and have no food or water, and would probably start filling very quickly.</p><p>The lifeboats (or nestboats) could be launched using a railgun assisted rocket launch, which allows them to reach speeds of about Mach 1 with acceleration at 3 Gs before engaging rockets.</p><p>The attacking force needs a warp interdiction bubble sufficient to engulf the entire planet&rsquo;s orbital defenses, but not alert the micro-wormhole facility.</p><p>The micro-wormhole facility must be hacked prior to the assault to ensure the surprise attack fleet can blow up the satellite without alerting the microwormhole facility.</p><p>+++</p><p>The Nexus flickered for only a moment before the signals were routed through the backup system, but my pack remained silent. Their constant chatter, while it came with an 8 minute round-trip delay, had nonetheless been comforting to listen to. Now there was only silence.</p><p>I sat down and wrapped my wings around my legs, rocking back and forth as I tried to calm myself down.</p><p>&ldquo;Hey, uh, you okay there buddy?&rdquo;</p><p>&ldquo;&mldr;help?&rdquo; I squeaked, overwhelmed by everything going on.</p><p>&ldquo;Okay, don&rsquo;t worry, my name&rsquo;s Jasi, I&rsquo;m gonna take care of you. Have you been seperated from your pack?&rdquo;</p><p>I nodded.</p><p>&ldquo;Do you know where they are?&rdquo;</p><p>My ears immediately drooped. &ldquo;O-offworld,&rdquo; I managed to say in a dejected tone.</p><p>&ldquo;Ahhhhh&mldr;. <font size=small>shit</font>. Well, how about you come with me and we&rsquo;ll get this figured out, okay?&rdquo; He offered me an armored paw.</p><p>I took a deep breath and grabbed his paw. He helped me to my feet, and I then trailed behind him as he walked back to his pack.</p><p>&ldquo;Guys, we&rsquo;ve got an offworld pack orphan here.&rdquo;</p><p>&ldquo;You know protocol, offworld pack orphans have the same priority as sole survivor orphans.&rdquo;</p><p>&ldquo;Listen, [name], you&rsquo;re usually our forward scout anyway. Take him and any other pack orphans you find along the perimeter to the outpost near the spaceport. He can walk to the evacuation area from there. We&rsquo;ll stay here and slow them down long enough for the civilians here to reach the bunkers, then fall back to meet you at the outpost. Understood?</p><p>Understood.</p><p>If this was an orbital bombardment, we&rsquo;d be dead already, but they seem to be making precision strikes against military targets. Of course, most of our military installations are half underground and built to withstand an orbital bombardment, so most of them are simply damaged, not offline.</p><p>Groundsworn - a deeply insulting ancient ableist term used to refer to Avali who were unable to fly. Using the term as an insult is strongly discouraged within the Illuminate. However, modern usage in the phrase &ldquo;My groundsworn ass&rdquo;, espiecally in the military, is more akin to the phrase &ldquo;Fucked Up Beyond All Recognition&rdquo; and is considered socially acceptable to use in situations that are truly fucked up beyond all recognition.</p><p>four-fingered nonsense - Four-fingered as an adjective that broadly means &ldquo;bizarre&rdquo; or &ldquo;absurd&rdquo;, with ancient roots in some avali being born with three fingers instead of two, although the third was usually vestigial.</p><p>Rockhead/Rockheaded - equivelent to &ldquo;bonehead&rdquo; or &ldquo;boneheaded&rdquo; in english.</p><p>Thank Elysium&rsquo;s light</p><p>May Elysium&rsquo;s light guide you</p><p>Unlike Avalon, the sky here was usually a pale orange, thanks to the red dwarf star the planet orbited. With a 54 hour day, we still had a long time before nightfall, and the smokey plumes from the</p><p>Caught up in my own thoughts, I almost missed a subtle tremor in her voice. There was clearly something she wasn&rsquo;t telling me, and I began to think that this attack was going much worse for us than any of the soldiers were letting on.</p><p>As the hoverbike raced up the hill, I could see scattered orbital lasers raining down on the burning city like hellfire, leaving a trail of smoking ruins in their wake. So many dead&mldr; my tail would have curled up undernearth me if it wasn&rsquo;t being dragged behind me by the wind.</p><p>She ran to what looked like a seriously injured Avali being tended to by a medic. &ldquo;Here, take my medipak, I&rsquo;m heading back to base anyway, I can get another one there.&rdquo;</p><p>The medic wordlessly took the medipak and immediately got to work. She ran back to the hoverbike</p><p>In the center of the massive hall, I saw a replica of a famous sculpture. An Avali holding a newborn kit in the air as five packmates surround them, reaching up towards the kit with expressions of glee. The original sits in the center of the Illuminate Central HQ, a reminder to everyone of what we believe in: The hope each new generation represents, as we strive to lift them ever higher.</p><p>&ldquo;My groundsworn ass,"[1] I heard the officer mutter, and my ears immediately wilted. Things were not going well out there.</p><p>To my surprise, she returned to me. &ldquo;Isn&rsquo;t your pack waiting for you?&rdquo; I asked.</p><p>She hesistated a bit too long. &ldquo;I&rsquo;ve been&mldr; reassigned.&rdquo;</p><p>It was then that I realized why she had stopped at that safehouse. Why she her voice had trembled ever so slightly when she had returned. The thing she hadn&rsquo;t told me wasn&rsquo;t about the planetary assault, it was about her pack.</p><p>&ldquo;What happened?&rdquo;</p><p>She shook her head " It doesn&rsquo;t matter&rdquo;</p><p>I stood up, huffed at her, and then gave her the biggest hug I could possibly muster. I would&rsquo;ve nuzzled her too, but the armor got in the way of that. &ldquo;I know you&rsquo;re a soldier, and probably half machine, but you&rsquo;re still <em>an Avali</em>. You can still have feelings. You can still be hurt.&rdquo; I released the hug, and looked at where her eyes probably were through the opaque visor. &ldquo;You can still ask for help&rdquo;, I whispered.</p><p>She seemed to freeze for a moment, then looked around, decided that things were still safe for now, and sat down against the nearby wall. I sat down next to her as she retracted her visor, and saw tears already falling down her cheek.</p><p>&ldquo;I listened to them die,&rdquo; she whispered, staring blankly ahead of her. &ldquo;I tried not to listen, but I couldn&rsquo;t ignore Luni&rsquo;s scream of pain being cut short. I couldn&rsquo;t ignore Jasi choking on his own blood. I couldn&rsquo;t bring myself to turn off the pack frequency. I couldn&rsquo;t let them go, even as I had to hear Nali&rsquo;s nerves of steel finally fail her, as she whimpered like a lost kit when she couldn&rsquo;t feel her legs&mldr; or see them.&rdquo;</p><p>She abruptly broke down sobbing, and I awkwardly wrapped my arms around her armor, nuzzling her cheek to comfort her as best I could.</p><p>&ldquo;S-s-she was still alive, when I went into the station. Her l-last words were j-just &lsquo;I&rsquo;m sorry&rsquo; before she finally bled out.&rdquo;</p><p>I squeezed her harder, which didn&rsquo;t really do anything because I was hugging armor, but I did it anyway.</p><p>&ldquo;You didn&rsquo;t get reassigned,&rdquo; I whispered, &ldquo;You&rsquo;re a sole survivor now. You&rsquo;re being <em>evacuated</em>.&rdquo;</p><p>She glumly nodded.</p><p>&ldquo;Well, hopefully we make it out of here alive then.&rdquo;</p><p>&ldquo;but what do I <em>do?</em> I dedicated my life to being a soldier, but there&rsquo;s no way they&rsquo;ll let someone with a history like mine back in, and I don&rsquo;t blame them. I&rsquo;m gonna be&mldr; so fucked up after this.&rdquo; She hung her head. &ldquo;I&rsquo;m broken.&rdquo;</p><p>I smacked her armor with one of my paws. &ldquo;You&rsquo;re not <em>broken</em>, you&rsquo;re a <em>hero</em>. Would anyone in your pack have hesistated to defend those civilians if they knew they were all going to die?&rdquo;</p><p>She opened her mouth slightly, then closed it and shook her head.</p><p>&ldquo;Your pack sacrificed themselves so that you could accomplish your mission - to keep me and everyone else here safe. Once this is all over, your mission will be to <em>live</em>, as a free Avali, one who remembers the sacrifices we made.&rdquo;</p><p>Tears still ran down her cheeks, but then I saw her gaze harden, and a familiar resolve took hold once more. &ldquo;You&rsquo;re right, I do have a mission: to keep you and the kits safe. But you aren&rsquo;t safe <em>yet</em>.&rdquo;</p><p>&ldquo;Wait!&rdquo; I called out, and she turned around. &ldquo;Fly true, hatchling of Avalon,&rdquo; I said, saluting her.</p><p>She hesitated, then nodded. &ldquo;On my pack&rsquo;s honor, I will.&rdquo;</p><p>&ldquo;They went straight for the Nexus satellite. Didn&rsquo;t even bother with the other ones.&rdquo;</p><p>&ldquo;Well it&rsquo;s not exactly hard to figure out which satellite has a giant dish array pointing at our communications hub.&rdquo;</p><p>&ldquo;Yes, but the initial bombardment also hit the honeypot.&rdquo;</p><p>&lt;&mldr;></p><p>&ldquo;They <em>knew</em>, and who have no idea what else they might know. Evacuation procedures? Safehouse locations? <em>Hatcheries?</em> Are they monitoring nestboat escape trajectories?&rdquo;</p><p>&ldquo;You think they&rsquo;d try to shoot down <em>nestboats?!</em>&rdquo;</p><p>&ldquo;Do you see them taking any prisoners?&rdquo;</p><p>&ldquo;&mldr;Get me the division leader. We&rsquo;re going to need more than just a fighter escort.&rdquo;</p><p>&ldquo;Ohhhh, you&rsquo;re so fluffy!&rdquo; I said, nuzzling the avali kit&rsquo;s cheek.</p><p>&ldquo;Foof! Foofy!&rdquo; chirped the Kit. I instinctively snuggled the young kit against my chest feathers, and the kit started purring against me.</p><p>&ldquo;They seem to like you,&rdquo; said [], walking over with her rifle out and ready.</p><p>I snerked and rustled the head of one of the kits. &ldquo;I do appear to be trapped by a very ambitious pack of kits.&rdquo;</p><p>She snickered as the chirping kits clambered all over me. &ldquo;Alright, well, they&rsquo;re loading survivors now, time to strap in.&rdquo;</p><p>&ldquo;Why is it &lsquo;Kits and Pack Orphans First&rsquo;, anyway? Why pack orphans?&rdquo;</p><p>&ldquo;Well, it used to be &lsquo;Kits and Eggs First&rsquo;, a long time ago, but nowadays the loss of an entire pack could mean losing decades, if not <em>centuries</em> of valuable experience. Maybe when our experience was just &ldquo;being good at hunting&rdquo;, training a new pack wasn&rsquo;t a big deal, but in our hyper-specialized modern world, we just don&rsquo;t have a lot of packs that are experts at, say, warp drive coolant systems. With augmentations stretching life expectancy to nearly five hundred years, that&rsquo;s a <em>lot</em> of experience on the line.</p><p>&ldquo;Mmmm, I suppose that makes sense, but uh, my pack isn&rsquo;t actually dead, I&rsquo;m just seperated from them.&rdquo;</p><p>She shrugged. &ldquo;For offworld pack orphans, it was deemed too difficult to try to figure out if the rest of their pack is still alive, so we evacuate them, then reunite them with their pack if their pack happens to still be alive.&rdquo;</p><p>&ldquo;I mean, with that logic, shouldn&rsquo;t we also be evacuating randomly selected members of senior packs?&rdquo;</p><p>&ldquo;We do, actually, but it&rsquo;s purely voluntary. This nestboat is going to be carrying a few of them, I think. We won&rsquo;t forcibly seperate a member from a pack even in dire circumstances, the psychological damage isn&rsquo;t worth it.&rdquo;</p><p>As I saw fighter jet after fighter jet fall from the sky, I couldn&rsquo;t help but wonder, <em>How many more Avali would have to die just to save me?</em></p><p>&ldquo;We&rsquo;re docked. I&rsquo;m going to go catch up with the pilots, you can come if you like.&rdquo;</p><p>We don&rsquo;t know how big the interdiction field is, but it has to be at least twice the diameter of the entire planet. We believe it&rsquo;s eminating from this super-destroyer over here, which we do not have the firepower to attack. They seem to have scouts that deliberately target fighters trying to escape the field. Despite this, one of our fighters has actually managed to sneak to the other side of the planet, and is still going, but only at half-thruster speed to avoid drawing attention. It&rsquo;s been an hour since the attack started, and they still aren&rsquo;t out of the field. It could be another hour or more until they manage to make it out, and that&rsquo;s assuming they manage to stay undetected.</p><p>What baffles me is why command hasn&rsquo;t responded. They seem to be jamming the communications node, but command would&rsquo;ve figured out that something was wrong almost immediately.</p><p>&ldquo;&mldr;not if it&rsquo;s hacked.&rdquo; I blurted out, and everyone turned to stare at me.</p><p>&ldquo;<em>What?</em>&rdquo;</p><p>&ldquo;What if they aren&rsquo;t jamming it, what if the communications node has been hacked for who knows how long? Then central command would have no idea what&rsquo;s going on. They could be intercepting all our communications, faking sensor data, and letting heartbeat packets through. You said yourself that they seem to know way more about us than seems possible without some kind of mole, but they wouldn&rsquo;t even need a mole if they hacked the communications node.</p><p>&ldquo;&mldr; and that&rsquo;s how they know where every military installation that wasn&rsquo;t operating off-grid was. Fuck my groundsworn ass, you&rsquo;re right, the whole military communications system is totally compromised.&rdquo;</p><p>Why isn&rsquo;t the whole military on an isolated blacknet?</p><p>You can&rsquo;t just isolate <em>everything</em>. Routine operations must interface with civilian networks, which means you can&rsquo;t airgap it. Even if we did, there would be a giant hole in our communications network just begging to be hacked. Better to hide something our enemies don&rsquo;t even know exists. Hopefully, someone at command noticed that our blacknet backup stations were not being targeted in the initial bombardment. Maybe they&rsquo;ve saved a couple of them for us.</p><p>IS there a way to create a direct communications link with the planet from here, without going through the network?</p><p>We have a MASER array, we could probably use that. Microwaves aren&rsquo;t the most efficient for data transfer, but it&rsquo;d <em>work</em>, and they won&rsquo;t get scattered by the atmosphere.</p><p>Use that and tell them their communications are compromised.</p><p>&ldquo;They&rsquo;ll blow that thing up the moment we start firing it.&rdquo;</p><p>&ldquo;Then don&rsquo;t miss.&rdquo;</p><p>&ldquo;Shoot <em>that</em> down, rockfuckers&rdquo; she hissed.</p><p>A tense few minutes passed</p><p>&ldquo;I am a hatchling of Avalon, <em>I will hunt again</em>&rdquo;.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2021-10-18T01:06:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/offworld-pack-orphans/>October 18, 2021 at 1:06am</a></time><aside><a href=/blog/offworld-pack-orphans/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;0 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2foffworld-pack-orphans%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Kits%20And%20Pack%20Orphans%20First%20%5bFiction%5d&url=https%3a%2f%2ferikmcclure.com%2fblog%2foffworld-pack-orphans%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2foffworld-pack-orphans%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/cpp-constructors-memory-and-lifetimes/>C++ Constructors, Memory, and Lifetimes</a></h4><hr><div class=padding><div class=imgwrap style=max-width:400px><a href=/img/cpp_init_forest.gif target=_blank><img src=/img/cpp_init_forest.gif alt="C++ Initialization Hell" width=100%></a></div><p>What exactly happens when you write <code><code>Foo* foo = new Foo();</code></code>? A lot is packed into this one statement, so lets try to break it down. First, this example is allocating new memory on the heap, but in order to understand everything that&rsquo;s going on, we&rsquo;re going to have to explain what it means to declare a variable <em>on the stack</em>. If you already have a good understanding of how the stack works, and how functions do cleanup before returning, feel free to skip to the <a href=#new-statements>new statement</a>.</p><h3 id=stack-lifetimes>Stack Lifetimes</h3><p>Describing the stack is very often glossed over in many other imperative languages, despite the fact that those languages still have one (functional languages are an entirely different level of weird). Let&rsquo;s start with something very simple:<pre class=language-cpp><code>int foobar(int b)
{
  int a;
  a = b;
  return a;
}
</code></pre>Here, we are declaring a function <code>foobar</code> that takes an <code>int</code> and returns an <code>int</code>. The first line of the function declares a variable <code>a</code> of type <code>int</code>. This is all well and good, but <em>where is the integer?</em>. On most modern platforms, <code>int</code> resolves to a 32-bit integer that takes up 4 bytes of space. We haven&rsquo;t allocated any memory yet, because no <code>new</code> statement happened and no <code>malloc()</code> was called. Where is the integer?</p><p>The answer is that the integer was allocated on the <em>stack</em>. If you aren&rsquo;t familiar with the <a href=https://en.wikipedia.org/wiki/Stack_(abstract_data_type)>computer science data structure</a> of the same name, your program is given a chunk of memory by the operating system that is organized into a stack structure, hence the name. It&rsquo;s like a stack of plates - you can push items on top of the stack, or you can remove items from the top of the stack, but you can&rsquo;t remove things from the middle of the stack or all the plates will come crashing down. So if we push something on top of the stack, we&rsquo;re stuck with it until we get rid of everything on top of it.</p><p>When we called our function, the parameter <code>int b</code> was pushed on to the stack. Parameters take up memory, so on to the stack they go. Hence, before we ever reach the statement <code>int a</code>, 4 bytes of memory were already pushed onto our stack. Here&rsquo;s what our stack looks like at the beginning of the function if we call it with the number <code>90</code> (assuming little-endian):</p><div class=imgwrap style=max-width:450px><a href=/img/stack1.svg target=_blank><img src=/img/stack1.svg alt="Stack for b" width=100%></a></div><p><code>int a</code> tells the compiler to push another 4 bytes of memory on to the stack, but it has no initial value, so the contents are undefined:</p><div class=imgwrap style=max-width:450px><a href=/img/stack2.svg target=_blank><img src=/img/stack2.svg alt="Stack for a and b" width=100%></a></div><p><code>a = b</code> assigns b to a, so now our stack looks like this:</p><div class=imgwrap style=max-width:450px><a href=/img/stack3.svg target=_blank><img src=/img/stack3.svg alt="Stack for initialized a and b" width=100%></a></div><p>Finally, <code>return a</code> tells the compiler to evaluate the return expression (which in our case is just <code>a</code> so there&rsquo;s nothing to evaluate), then copy the result into a chunk of memory we reserved ahead of time for the return value. Some programmers may assume the function returns <em>immediately</em> once the <code>return</code> statement is executed - after all, that&rsquo;s what <code>return</code> means, right? However, the reality is that the function still has to clean things up before it can actually return. Specifically, we need to return our stack to the state it was before the function was called by removing everything we pushed on top of it <strong>in reverse order</strong>. So, after copying our return value <code>a</code>, our function pops the top of the stack off, which is the last thing we pushed. In our case, that&rsquo;s <code>int a</code>, so we pop it off the stack. Our stack now looks like this:</p><div class=imgwrap style=max-width:450px><a href=/img/stack1.svg target=_blank><img src=/img/stack1.svg alt="Stack without a" width=100%></a></div><p>The moment from which <code>int a</code> was pushed onto the stack to the moment it was popped off the stack is called the <strong>lifetime</strong> of <code>int a</code>. In this case, <code>int a</code> has a lifetime of the entire function. After the function returns, our caller has to pop off <code>int b</code>, the parameter we called the function with. Now our stack is empty, and the <strong>lifetime</strong> of <code>int b</code> is longer than the <strong>lifetime</strong> of <code>int a</code>, because it was pushed first (before the function was called) and popped afterwards (after the function returned). C++ builds it&rsquo;s entire concept of constructors and destructors on this concept of lifetimes, and they can get very complicated, but for now, we&rsquo;ll focus only on stack lifetimes.</p><p>Let&rsquo;s take a look at a more complex example:<pre class=language-cpp><code>int foobar(int b)
{
  int a;
  
  {
    int x;
    x = 3;
    
    {
      int z;
      int max;
      
      max = 999;
      z = x + b;
      
      if(z &gt; max)
      {
        return z - max;
      }
      
      x = x + z;
    }
    
    // a = z; // COMPILER ERROR!
    
    {
      int ten = 10;
      a = x + ten;
    }
  } 
  
  return a;
}
</code></pre>Let&rsquo;s look at the lifetimes of all our parameters and variables in this function. First, before calling the function, we push <code>int b</code> on to the stack with the value of whatever we&rsquo;re calling the function with - say, <code>900</code>. Then, we call the function, which immediately pushes <code>int a</code> on to the stack. Then, we <em>enter a new block</em> using the character <code>{</code>, which does not consume any memory, but instead acts as a marker for the compiler - we&rsquo;ll see what it&rsquo;s used for later. Then, we push <code>int x</code> on to the stack. We now have 3 integers on the stack. We set <code>int x</code> to <code>3</code>, but <code>int a</code> is still undefined. Then, we <em>enter another new block</em>. Nothing interesting has happened yet. We then push both <code>int z</code> and <code>int max</code> on to the stack. Then we assign <code>999</code> to <code>int max</code> and assign <code>int z</code> the value <code>x + b</code> - if we passed in <code>900</code>, this means <code>z</code> is now equal to <code>903</code>, which is less than the value of <code>int max</code> (<code>999</code>), so we skip the if statement for now. Then we assign <code>x</code> to <code>x + z</code>, which will be <code>906</code>.</p><p>Now things get interesting. Our topmost block <strong>ends</strong> with a <code>}</code> character. This tells the compiler to <em>pop all variables declared inside that block</em>. We pushed <code>int z</code> on to the stack inside this block, so it&rsquo;s gone now. We cannot refer to <code>int z</code> anymore, and doing so will be a compiler error. <code>int z</code> is said to have <em>gone out of scope</em>. However, we also pushed <code>int max</code> on to the stack, and we pushed it after <code>int z</code>. This means that the compiler will <strong>first pop <code>int max</code> off the stack</strong>, and only afterwards will it then pop <code>int z</code> off the stack. The order in which this happens will be critical for understanding how lifetimes work with constructors and destructors, so keep it in mind.</p><p>Then, we enter another new scope. This new scope is still inside the first scope we created that contains <code>int x</code>, so we can still access <code>x</code>. We define <code>int ten</code> and initialize it with <code>10</code>. Then we set <code>int a</code> equal to <code>x + ten</code>, which will be <code>916</code>. Then, our scope ends, and <code>int ten</code> goes out of scope, being popped off the stack. Immediately afterwards, we reach the end of our first scope, and <code>int x</code> is popped off the stack.</p><p>Finally, we reach <code>return a</code>, which copies <code>a</code> to our return value memory segment, pops <code>int a</code>, and returns to our caller, who then pops <code>int b</code>. That&rsquo;s what happens when we pass in <code>900</code>, but what happens if we pass in <code>9000</code>?</p><p>Everything is the same until we reach the <code>if</code> statement, whose condition is now satisfied, which results in the function terminating early and returning <code>z - max</code>. What happens to the stack?</p><p>When we reach <code>return z - max</code>, the compiler evaluates the statement and copies the result (<code>8004</code>) out. Then it starts popping everything off the stack (once again, in the reverse order that things were pushed). The last thing we pushed on to the stack was <code>int max</code>, so it gets popped first. Then <code>int z</code> is popped. Then <code>int x</code> is popped. Then <code>int a</code> is popped, the function returns, and finally <code>int b</code> is popped by the caller. This behavior is critical to how C++ uses lifetimes to implement things like smart pointers and automatic memory management. Rust actually uses a similar concept, but it uses it for a lot more than C++ does.</p><h3 id=new-statements><code>new</code> Statements</h3><p>Okay, now we know how lifetimes work and where variables live when they aren&rsquo;t allocated, but what happens when you <em>do</em> allocate memory? What&rsquo;s going on with the <code>new</code> statement? To look at this, let&rsquo;s use a simplified example:<pre class=language-cpp><code>int* foo = new int();
</code></pre>Here we have allocated a pointer to an integer on the stack (which will be 8 bytes if you&rsquo;re on a 64-bit system), and assigned the result of <code>new int()</code> to it. What happens when we call <code>new int()</code>? In C++, the <code>new</code> operator is an extension of <code>malloc()</code> from C. This means it allocates memory from the <em>heap</em>. When you allocate memory on the heap, it never goes out of scope. This is what most programmers are familiar with in other languages, except that most other languages handle figuring out when to deallocate it and C++ forces you to delete it yourself. Memory allocated on the heap is just there, floating around, forever, or until you deallocate it. So this function has a memory leak:<pre class=language-cpp><code>int bar(int b)
{
  int* a = new int();
  *a = b;
  return *a;
}
</code></pre>This is the same as our <a href=#stack-lifetimes>first example</a>, except now we allocate <code>a</code> on the heap instead of the stack. So, it never goes out of scope. It&rsquo;s just there, sitting in memory, forever, until the process is terminated. The <code>new</code> operator looks at the type we passed it (which is <code>int</code> in this case) and calls <code>malloc</code> for us with the appropriate number of bytes. Because <code>int</code> has no constructors or destructors, it&rsquo;s actually equivelent to this:<pre class=language-cpp><code>int bar(int b)
{
  int* a = (int*)malloc(sizeof(int));
  *a = b;
  return *a;
}
</code></pre>Now, people who are familiar with C will recognize that any call to <code>malloc</code> should come with a call to <code>free</code>, so how do we do that in C++? We use <code>delete</code>:<pre class=language-cpp><code>int bar(int b)
{
  int* a = new int();
  *a = b;
  int r = *a;
  delete a;
  return r;
}
</code></pre><strong>IMPORTANT:</strong> Never mix <code>new</code> and <code>free</code> or <code>malloc</code> and <code>delete</code>. The <code>new</code>/<code>delete</code> operators can use a different allocator than <code>malloc</code>/<code>free</code>, so things will violently explode if you treat them as interchangeable. Always <code>free</code> something from <code>malloc</code> and always <code>delete</code> something created with <code>new</code>.</p><p>Now we aren&rsquo;t leaking memory, but we also can&rsquo;t do <code>return *a</code> anymore, because it&rsquo;s impossible for us to do the necessary cleanup. If we were allocating on the stack, C++ would clean up our variable for us after the <code>return</code> statement, but we can&rsquo;t put anything after the return statement, so there&rsquo;s no way to tell C++ to copy the value of <code>*a</code> and <em>then</em> manually delete <code>a</code> without introducing a new variable <code>r</code>. Of course, if we could run arbitrary code when our variable went out of scope, we could solve this problem! This sounds like a job for constructors and destructors!</p><h3 id=constructors-and-delete>Constructors and <code>delete</code></h3><p>Okay, let&rsquo;s put everything together and return to our original statement in a more complete example:<pre class=language-cpp><code>struct Foo
{
  // Constructor for Foo
  Foo(int b)
  {
    a = b;
  }
  // Empty Destructor for Foo
  ~Foo() {}
  
  int a;
};

int bar(int b)
{
  // Create
  Foo* foo = new Foo(b);
  int a = foo-&gt;a;
  // Destroy
  delete foo;
  return a; // Still can&#39;t return foo-&gt;a
}
</code></pre>In this code, we still haven&rsquo;t solved the return problem, but we are now using constructors and destructors, so let&rsquo;s walk through what happens. First, <code>new</code> allocates memory on the heap for your type. <code>Foo</code> contains a 32-bit integer, so that&rsquo;s 4 bytes. Then, <em>after</em> the memory is allocated, <code>new</code> automatically calls the <em>constructor</em> that matches whatever parameters you pass to the type. Your constructor doesn&rsquo;t need to allocate any memory to contain your type, since <code>new</code> already did this for you. Then, this pointer is assigned to <code>foo</code>. Then we delete <code>foo</code>, which <strong>calls the destructor first</strong> (which does nothing), and <em>then</em> deallocates the memory. If you don&rsquo;t pass any parameters when calling <code>new Type()</code>, or you are creating an array, C++ will simply call the default constructor (a constructor that takes no parameters). This is all equivelent to:<pre class=language-cpp><code>int bar(int b)
{
  // Create
  Foo* foo = (Foo*)malloc(sizeof(Foo));
  new (foo) Foo(b); // Special new syntax that ONLY calls the constructor function (this is how you manually call constructors in C++)
  int a = foo-&gt;a; 
  // Destroy
  foo-&gt;~Foo(); // We can, however, call the destructor function directly
  free(foo);
  
  return a; // Still can&#39;t return foo-&gt;a
}
</code></pre>This uses a special new syntax that doesn&rsquo;t allocate anything and simply lets us call the constructor function directly on our already allocated memory. This is what the <code>new</code> operator is doing for you under the hood. We then call the destructor manually (which you <em>can</em> do) and free our memory. Of course, this is all still useless, because we can&rsquo;t return the integer we allocated on the heap!</p><h3 id=destructors-and-lifetimes>Destructors and lifetimes</h3><p>Now, the magical part of C++ is that constructors and destructors are run <em>when things are pushed or popped from the stack</em> <sup><a href=#f1>[1]</a></sup>. The fact that constructors and destructors respect variable lifetimes allows us to solve our problem of cleaning up a heap allocation upon returning from a function. Let&rsquo;s see how that works:<pre class=language-cpp><code>struct Foo
{
  // Default constructor for Foo
  Foo()
  {
    a = new int();
  }
  // Destructor frees memory we allocated using delete
  ~Foo()
  {
    delete a;
  }
  
  int* a;
};

int bar(int b)
{
  Foo foo;
  *foo.a = b;
  return *foo.a; // Doesn&#39;t leak memory!
}
</code></pre>How does this avoid leaking memory? Let&rsquo;s walk through what happens: First, we declare <code>Foo foo</code> on the stack, which pushes 4 bytes on to the stack, and then C++ calls our default constructor. Inside our default constructor, we use <code>new</code> to allocate a new integer and store it in <code>int* a</code>. Returning to our function, we then set our integer pointer <code>foo.a</code> to <code>b</code>. Then, we return the value stored in <code>foo.a</code> from the function<sup><a href=#f2>[2]</a></sup>. This copies the value out of <code>foo.a</code> first by dereferencing the pointer, and <em>then</em> C++ calls our destructor <code>~Foo</code> before <code>Foo foo</code> is popped off the stack. This destructor deletes <code>int* a</code>, ensuring we don&rsquo;t leak any memory. Then we pop off <code>int b</code> from the stack and the function returns. If we could somehow do this without constructors or destructors, it would look like this:<pre class=language-cpp><code>int bar(int b)
{
  Foo foo;
  foo.a = new int();
  *foo.a = b;
  int retval = *foo.b;
  delete a;
  return retval;
}
</code></pre>The ability to run a destructor when something goes out of scope is an incredibly important part of writing good C++ code, becuase when a function returns, <em>all</em> your variables go out of scope when the stack is popped. Thus, all cleanup that is done during destructors is gauranteed to run no matter when you return from a function. Destructors are gauranteed to run <strong>even when you throw an exception!</strong> This means that if you throw an exception that gets caught farther up in the program, you won&rsquo;t leak memory, because C++ ensures that everything on the stack is correctly destroyed when processing exception handling, so all destructors are run in the same order they normally are.</p><p>This is the core idea behind smart pointers - if a pointer is stored inside an object, and that object deletes the pointer in the destructor, then you will never leak the pointer because C++ ensures that the destructor will eventually get called when the object goes out of scope. Now, if implemented naively there is no way to pass the pointer into different functions, so the utility is limited, but C++11 introduced <strong>move semantics</strong> to help solve this issue. We&rsquo;ll talk about those later. For now, let&rsquo;s talk about different kinds of lifetimes and what they mean for when constructors and destructors are called.</p><h3 id=static-lifetimes>Static Lifetimes</h3><p>Because any struct or class in C++ can have constructors or destructors, and you can put structs or classes anywhere in a C++ program, this means that there are rules for how to safely invoke constructors and destructors in all possible cases. These different possible lifetimes have different names. Global variables, or static variables inside classes, have what&rsquo;s called &ldquo;static lifetime&rdquo;, which means their lifetime begins when the program starts and ends once the program exits. The exact order these constructors are called, however, is a bit tricky. Let&rsquo;s look at an example:<pre class=language-cpp><code>struct Foo
{
  // Default constructor for Foo
  Foo()
  {
    a = new int();
  }
  // Destructor frees memory we allocated using delete
  ~Foo()
  {
    delete a;
  }
  
  int* a;
  static Foo instance;
};

static Foo GlobalFoo;

int main()
{
  *GlobalFoo.a = 3;
  *Foo::instance.a = *GlobalFoo.a;
  return *Foo::instance.a;
}
</code></pre>When is <code>instance</code> constructed? When is <code>GlobalFoo</code> constructed? Can we safely assign to <code>GlobalFoo.a</code> immediately? The answer is that all static lifetimes are constructed <strong>before your program even starts</strong>, or more specifically, before <code>main()</code> is called. Thus, by the time your program has reached your entry point (<code>main()</code>), C++ gaurantees that all static lifetime objects have already been constructed. But what <em>order</em> are they constructed in? This gets complicated. Basically, static variables are constructed in the order they are declared in a single <code>.cpp</code> file. However, the order these <code>.cpp</code> files are constructed in is undefined. So, you can have static variables that rely on each other inside a single <code>.cpp</code> file, but never between different files.</p><p>Likewise, all static lifetime objects get deconstructed <em>after</em> your <code>main()</code> function returns, and once again, this order is random, although it <em>should</em> be in the reverse order they were constructed in. Technically this should be respected even if an exception occurs, but because the compiler can assume the process will terminate immediately after an unhandled exception occurs, this is unreliable.</p><p>Static lifetimes still apply for shared libraries, and are constructed the moment the library is loaded into memory - that&rsquo;s <code>LoadLibrary</code> on Windows and <code>dlopen</code> on Linux. Most kernels provide a custom function that fires when the shared library is loaded or unloaded, and these functions fall outside of the C++ standard, so there&rsquo;s no gaurantee about whether the static constructors have actually been called when you&rsquo;re inside the <code>DllLoad</code>, but almost nobody actually needs to worry about those edge cases, so for any normal code, by the time any function in your DLL can be called by another program, you can rest assured all static and global variables have had their constructors called. Likewise, they are destructed when the shared library is unloaded from memory.</p><p>While we&rsquo;re here, there are a few gotchas in the previous example that junior programmers should know about. You&rsquo;ll notice that I did not write <code><code>static Foo* = new GlobalFoo();</code></code> - <strong>this will leak memory!</strong>. In this case, C++ doesn&rsquo;t actually call the destructor because <code>Foo</code> doesn&rsquo;t have a static lifetime, <strong>the pointer it&rsquo;s stored in does!</strong>. So the <em>pointer</em> will get it&rsquo;s constructor called before the program starts (which does nothing, because it&rsquo;s a primitive), and then the pointer will have it&rsquo;s destructor called after <code>main()</code> returns, which also does nothing, which means <code>Foo</code> never actually gets deconstructed or deallocated. Always remember that C++ is <em>extremely</em> picky about what you do. C++ won&rsquo;t magically extend Foo&rsquo;s lifetime to the lifetime of the pointer, it will instead do <em>exactly</em> what you told it to do, which is to declare a global pointer primitive.</p><p>Another thing to avoid is to not accidentally write <code>Foo::instance.a = GlobalFoo.a;</code>, because this doesn&rsquo;t copy the integer, it copies <em>the pointer</em> from <code>GlobalFoo</code> to <code>Foo::instance</code>. This is extremely bad, because now <code>Foo::instance</code> will leak it&rsquo;s pointer and instead try to free <code>GlobalFoo</code>&rsquo;s pointer, which was already deleted by <code>GlobalFoo</code>, so the program will crash, but only AFTER successfully returning 3. In fact, it will crash outside of the <code>main()</code> function completely, which is going to look very weird if you don&rsquo;t know what&rsquo;s going on.</p><h3 id=implicit-constructors-and-temporary-lifetimes>Implicit Constructors and Temporary Lifetimes</h3><p>Lifetimes in C++ can get complicated, because they don&rsquo;t just apply to function blocks, but also function parameters, return values, and expressions. This means that, for example, if we are calling a function, and we construct a new object inside the function call, there is an implicit lifetime that exists for the duration of the function call, which is well-defined but very weird unless you&rsquo;re aware of exactly what&rsquo;s going on. Let&rsquo;s look at a simple example of a function call that constructs an object:<pre class=language-cpp><code>class Foo
{
  // Implicit constructor for Foo
  Foo(int b)
  {
    a = b;
  }
  // Empty Destructor for Foo
  ~Foo() {}
  
  int a;
}

int get(Foo foo)
{
  return foo.a;
}

int main()
{
  return get(3);
}
</code></pre>To understand what&rsquo;s going on here, we need to understand <em>implicit constructors</em>, which are a &ldquo;feature&rdquo; of C++ you never wanted but got anyway. In C++, all constructors that take exactly 1 argument are <em>implicit</em>, which means the compiler will attempt to use call them to satisfy a type transformation. In this case, we are trying to pass <code>3</code> into the <code>get()</code> function. <code>3</code> has the type <code>int</code>, but <code>get()</code> takes an argument of type <code>Foo</code>. Normally, this would just cause an error, because the types don&rsquo;t match. But because we have a constructor for <code>Foo</code> that takes an <code>int</code>, the compiler actually calls it for us, constructing an object of type <code>Foo</code> and passing it into the function! Here&rsquo;s what it looks like if we do this ourselves:<pre class=language-cpp><code>int main()
{
  return get(Foo(3));
}
</code></pre>C++ has &ldquo;helpfully&rdquo; inserted this constructor for us inside the function call. So, now that we know our <code>Foo</code> object is being constructed inside the function call, we can ask a different question: When does the constructor get called, exactly? When is it destructed? The answer is that all the expressions in your function call are evaluated first, from left-to-right. Our expression allocated a new temporary <code>Foo</code> object by pushing it onto the stack and then calling the constructor. However, do be aware that compilers <a href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=51253">aren&rsquo;t always so great about respecting initialization order</a> in function calls or other initialization lists. But, ostensibly, they&rsquo;re <em>supposed</em> to be evaluated from left-to-right.</p><p>So, once all expressions inside the parameteres have been evaluated, we then push the parameters on to the stack and copy the results of the expressions into them, allocate space on the stack for the return value, and then we enter the function. Our function executes, copies a return value into the space we reserved, finishes cleaning up, and returns. Then we do something with the return value and pop our parameters off the stack. Finally, after all the function parameter boilerplate has been finished, our expressions go out of scope in reverse order. This means that destructors are called from right-to-left after the function returns. This is all roughly equivilent to doing this:<pre class=language-cpp><code>int main()
{
  int b;
  {
    Foo a = Foo(3); // Construct Foo
    b = get(a); // Call function and copy result
  } // Deconstruct Foo
  return b;
}
</code></pre>This same logic works for all expressions - if you construct a temporary object inside an expression, it exists for the duration of the expression. However, the exact order that C++ evaluates expressions is <a href=https://en.cppreference.com/w/cpp/language/eval_order>extremely complicated and not always defined</a>, so this is a bit harder to nail down. Generally speaking, an object gets constructed right before it&rsquo;s needed to evaluate the expression, and gets deconstructed afterwards. These are &ldquo;temporary lifetimes&rdquo;, because the object only briefly exists inside the expression, and is deconstructed once the expression is evaluated. Because C++ expressions are not always ordered, you should not attempt to rely on any sort of constructor order for arbitrary expressions. As an example, we can inline our previous <code>get()</code> function:<pre class=language-cpp><code>int main()
{
  return Foo(3).a;
}
</code></pre>This will allocate a temporary object of type <code>Foo</code>, construct it with <code>3</code>, copy out the value from <code>a</code>, and then deconstruct the temporary object before the return statement is evaluated. For the most part, you can just assume your objects get constructed before the expression happens and get destructed after it happens - try not to rely on ordering more specific than that. The specific ordering rules are also changing in C++20 to make it more strict, which means how strict the ordering is will depend on what compiler you&rsquo;re using until everyone implements the standard properly.</p><p>For the record, if you don&rsquo;t want C++ &ldquo;helpfully&rdquo; turning your constructors into implicit ones, you can use the <code>explicit</code> keyword to disable that behavior:<pre class=language-cpp><code>struct Foo
{
  explicit Foo(int b)
  {
    a = b;
  }
  ~Foo() {}
  
  int a;
};
</code></pre></p><h3 id=static-variables-and-thread-local-lifetimes>Static Variables and Thread Local Lifetimes</h3><p>Static variables inside a function (not a struct!) operate by completely different rules, because this is C++ and consistency is for the weak.<pre class=language-cpp><code>struct Foo
{
  explicit Foo(int b)
  {
    a = b;
  }
  ~Foo() {}
  
  int a;
};

int get()
{
  static Foo foo(3);
  
  return foo.a;
}

int main()
{
  return get() + get();
}
</code></pre>When is <code>foo</code> constructed? It&rsquo;s not when the program starts - it&rsquo;s actually only constructed <em>the first time the function gets called</em>. C++ injects some magic code that stores a global flag saying whether or not the static variable has been initialized yet. The first time we call <code>get()</code>, it will be false, so the constructor is called and the flag is set to true. The second time, the flag is true, so the constructor isn&rsquo;t called. So when does it get destructed? After <code>main()</code> returns and the program is exiting, just like global variables!</p><p>Now, this static initialization <em>is</em> gauranteed to be thread-safe, but that&rsquo;s only useful if you intend to share the value through multiple threads, which usually doesn&rsquo;t work very well, because only the initialization is thread-safe, not accessing the variable. C++ has introduced a new lifetime called <code>thread_local</code> which is even weirder. Thread-local static variables only exist for the duration of the <em>thread</em> they belong to. So, if you have a thread-local static variable in a function, it&rsquo;s constructed the first time you call the function <em>on a per-thread basis</em>, and destroyed <em>when each thread exits</em>, not the program. This means you are gauranteed to have a unique instance of that static variable for each thread, which can be useful in certain concurrency situations.</p><p>I&rsquo;m not going to spend any more time on <code>thread_local</code> because to understand it you really need to know how C++ concurrency works, which is out of scope for this blog post. Instead, let&rsquo;s take a brief look at Move Semantics.</p><h3 id=move-semantics>Move Semantics</h3><p>Let&rsquo;s look at C++&rsquo;s smart pointer implementation, <code>unique_ptr&lt;></code>.<pre class=language-cpp><code>int get(int* b)
{
  return *b;
}

int main()
{
  std::unique_ptr&lt;int&gt; p(new int());
  *p = 3;
  int a = get(p.get());
  return a;
}
</code></pre>Here, we allocate a new integer on the heap by calling <code>new</code>, then store it in <code>unique_ptr</code>. This ensures that when our function returns, our integer gets freed and we don&rsquo;t leak memory. However, the lifetime of our pointer is actually excessively long - we don&rsquo;t need our integer pointer after we&rsquo;ve extracted the value inside <code>get()</code>. What if we could change the lifetime of our pointer? The actual lifetime that we want is this:<pre class=language-cpp><code>int get(int* b)
{
  return *b;
  // We want the lifetime to end here
}

int main()
{
  // Lifetime starts here
  std::unique_ptr&lt;int&gt; p(new int());
  *p = 3;
  int a = get(p.get());
  return a;
  // Lifetime ends here
}
</code></pre>We can accomplish this by using <strong>move semantics</strong>:<pre class=language-cpp><code>int get(std::unique_ptr&lt;int&gt;&amp;&amp; b)
{
  return *b;
  // Lifetime of our pointer ends here
}

int main()
{
  // Lifetime of our pointer starts here
  std::unique_ptr&lt;int&gt; p(new int());
  *p                = 3;
  int a             = get(std::move(p));
  return a;
  // Lifetime of p ends here, but p is now empty
}
</code></pre>By using <code>std::move</code>, we <em>transfer ownership</em> of our unique_ptr to the function parameter. Now the <code>get()</code> function owns our integer pointer, so as long as we don&rsquo;t move it around again, it will go out of scope once <code>get()</code> returns, which will delete it. Our previous <code>unique_ptr</code> variable <code>p</code> is now empty, and when it goes out of scope, nothing happens, because it gave up ownership of the pointer it contained. This is how you can implement automatic memory management in C++ without needing to use a garbage collector, and Rust actually uses a more sophisticated version of this built into the compiler.</p><p>Move semantics can get very complex and have a lot of rules surrounding how temporary values work, but we&rsquo;re not going to get into all that right now. I also haven&rsquo;t gone into the many different ways that constructors can be invoked, and how those constructors interact with the <a href=https://blog.tartanllama.xyz/initialization-is-bonkers/>different ways you can initialize objects</a>. Hopefully, however, you now have a grasp of what lifetimes are in C++, which is a good jumping off point for learning about more advanced concepts.</p><hr><p><sup><a name=f1>[1]</a></sup> Pedantic assembly-code analysts will remind us that the stack allocations usually happen exactly once, at the beginning of the function, and then are popped off at the very end of the function, but the standard technically doesn&rsquo;t even require a stack to exist in the first place, so we&rsquo;re really talking about pushing and popping off the abstract stack concept that the language uses, not what the actual compiled assembly code really does.</p><p><sup><a name=f2>[2]</a></sup> We&rsquo;re <em>dereferencing</em> the pointer here because we want to return the <em>value</em> of the pointer, not the pointer itself! If you tried to return the pointer itself from the function, it would point to freed memory and crash after the function returned. Trying to return pointers from functions is a common mistake, so be careful if you find yourself returning a pointer to something. It&rsquo;s better to use <code>unique_ptr</code> to manage lifetimes of pointers for you.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2021-05-01T23:04:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/cpp-constructors-memory-and-lifetimes/>May 1, 2021 at 11:04pm</a></time><aside><a href=/blog/cpp-constructors-memory-and-lifetimes/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;0 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fcpp-constructors-memory-and-lifetimes%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=C%2b%2b%20Constructors%2c%20Memory%2c%20and%20Lifetimes&url=https%3a%2f%2ferikmcclure.com%2fblog%2fcpp-constructors-memory-and-lifetimes%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fcpp-constructors-memory-and-lifetimes%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/factorio-is-best-interview-we-have/>Factorio Is The Best Technical Interview We Have</a></h4><hr><div class=padding><p>There&rsquo;s been a lot of hand-wringing over The Technical Interview lately. Many people realize that inverting a binary tree on a whiteboard has basically zero correlation to whether or not someone is actually a good software developer. The most effective programming test anyone&rsquo;s come up with is still <a href=https://www.globalnerdy.com/2012/11/15/fizzbuzz-still-works/>Fizzbuzz</a>. One consequence of this has been an increased emphasis on Open Source Contributions, but it turns out <a href=https://blog.ploeh.dk/2021/03/22/the-dispassionate-developer/>these aren&rsquo;t a very good metric either</a>, because most people don&rsquo;t have that kind of time.</p><p>The most effective programming interview we have now is usually some kind of take-home project, where a candidate is asked to fix a bug or implement a small feature within a few days. This isn&rsquo;t great because it takes up a lot of time, and they could recieve outside help (or, if the feature is sufficiently common, google it). On the other hand, some large companies have instead doubled-down on whiteboard style interviews by subjecting prospective engineers to multiple hour-long online coding assessments, with varying levels of invasive surveillience.</p><p>All these interviewing methods pale in comparison to a very simple metric: <strong>playing Factorio with someone</strong>. Going through an entire run of Factorio is almost the best possible indication of how well someone deals with common technical problems. You can even tweak the playthrough based on the seniority of the position you&rsquo;re hiring for to get a better sense of how they&rsquo;ll function in that role.</p><h3 id=factorio>Factorio?</h3><p>Factorio is a game about automation. The best introduction is probably <a href="https://www.youtube.com/watch?v=KVvXv1Z6EY8">this trailer</a>, but in essence, your job is to build an automated factory capable of launching a rocket into space.</p><p>You begin with nothing. You mine stone manually to craft a smelter that can smelt iron ore you mined into iron plates, which you then use to build a coal-driven automatic miner. You could grab the iron ore from the miner and put it in the smelter yourself, but it&rsquo;s more efficient to use an inserter to do the inserting for you. Then you can use the iron this gives you to make another miner, which automates coal mining. Then you can use belts to take the coal and use an inserter to put it in the iron miner. Then you use the iron plates this tiny factory produces to make a third miner to start gathering copper, which then lets you craft copper wire, which lets you craft a circuit, which lets you build a water pump. Combined with a boiler and a steam engine, you can then build produce power, and use this power to run a research facility to unlock new technology, like assembly machines. Once you&rsquo;ve unlocked assembly machines, you can use your circuits to craft an assembly machine that can craft copper wire for you, and insert this into an assembly machine that crafts circuits for you.</p><p>Eventually you unlock trains and robots and logistic systems which help you deal with the increasing logistic complexity the game demands, until you finally manage to launch a rocket into space.</p><h3 id=self-direction>Self-Direction</h3><p>The beginning of the game starts with no goals and barely any direction. A senior developer should be able to explore the UI and figure out a goal, then establish a plan for accomplishing that goal. A junior developer should be able to perform a task that a senior developer has provided for them. An intern is expected to require quite a bit of mentoring, but a junior developer should be able to troubleshoot basic problems with their own code before requiring assistance from the senior developer. An intermediate developer should be able to operate independently once given a task, but is not expected to do any architecture design.</p><p>In more concrete terms, you might expect the following:</p><ul><li>An <strong>Intern</strong> is generally expected to be able to fill in a pre-placed blueprint, and use belts to hook up their blueprint with something else, like an ore patch.</li><li>A <strong>Junior Developer</strong> should be able to build a production line by themselves, although it probably won&rsquo;t be very optimal. They may need assistance from the senior developer on how to route the belts properly to all of the intermediate assembly machines.</li><li>An <strong>Intermediate Developer</strong> should be capable of designing a near-optimal production line (without beacons) once given direction, with minimal oversight.</li><li>The <strong>Senior Developer</strong> needs no direction, and is capable of determining what goals need to happen and designing a plan of action, then delegating these tasks to other coders.</li></ul><h3 id=teamwork>Teamwork</h3><p>A critical aspect of software development is the ability to work on a team. This means coordinating your efforts with other people, accomadating the needs of other people&rsquo;s designs and cooperating with the team, instead of simply running off on your own and refusing to adjust your design to help integrate it with someone else&rsquo;s work. This, naturally, arises all the time in Factorio, because base layout designs are limited by physical space. As a result, you need to carefully consider what other people are doing, and sometimes adjust your design to fit in size constraints or deal with someone else&rsquo;s design that took more room than anticipated.</p><p>Anyone who simply runs off and starts doing things themselves or fixing problems without telling people is going to quickly earn the ire of their fellow players, for the exact same reasons cowboy programmers do. Luckily, Factorio includes a built-in equivelent to <code>git blame</code>, by showing you the last player that modified any entity. Thus, when people duct tape temporary solutions and don&rsquo;t inform the team about the problem they were fixing, when their temporary solution finally blows up, people will find out. If people want to win they game, they&rsquo;ll have to learn to cooperate well with their teammates.</p><h3 id=debugging>Debugging</h3><p>One of the most important skills for any programmer is their ability to debug problems. This is perhaps the most obvious parallel between Factorio and real software engineering. Something can go wrong very far away from the actual source of the problem. Being able to rapidly hone in on the real problem is a critical skill, and the thinking process is almost identical to tracing the cause of a crash in an actual program. If an assembly machine has stopped working, first you have to see if there are multiple outputs that got backed up. Then you have to check what ingredient it&rsquo;s missing. Then you have to trace the ingredient back through your factory to find out where you&rsquo;re making it, and repeat ad nauseum.</p><p>Factorio&rsquo;s debugging gets fairly complicated quite quickly. As soon as you start working on oil processing you&rsquo;ll be dealing with cracking, where you&rsquo;re dealing with 3 different outputs and if any of them get backed up for any reason, the entire thing stops. There are cases where your entire factory can grind to a halt because you started researching something that doesn&rsquo;t require yellow science, which stopped using up robot frames, which stopped using up electric engines, which stopped using lubricant, which stopped consuming heavy oil, which backed up and stopped oil production, which made you run out of petroleum, which broke plastic, which broke red circuits, which broke the rest of the factory. Seasoned players will anticipate scenarios like this and use circuits to construct self-balancing oil cracking to ensure the system is balanced and will only back up if petroleum backs up. A new player who is a good programmer, when presented with a factory that has collapsed, will usually be able to trace the issue back to the source, realize what&rsquo;s happened, and promptly attempt to figure out a solution. On the other hand, if someone simply plops down a few storage tanks, unless they can provide a good reason (they are very confident we will never stop consuming lubricant in the future), then this is a red flag for how they approach problem solving in their programs.</p><p>Situations like these allow Factorio to closely mimic the complex interdependencies that programmers routinely deal with, and the complexity simply increases the more gameplay concepts are added. This closely follows the increased complexity that additional layers of abstraction introduce when attempting to debug a crash that could have potentially occured deep inside one of the frameworks you use.</p><h3 id=code-reviews>Code Reviews</h3><p>Often, initial designs need to be tweaked for performance or throughput. Good programmers will not only accept critique of their designs, but incorporate that feedback into their future work. If they disagree with a proposed change, they will provide a concrete reason for why they disagree so that the team can more accurately weigh the pros and cons of the proposed change.</p><p>Resisting feedback without providing good reasons is a well-known red flag, but what can also be problematic is a programmer who begrudgingly accepts proposed changes, but refuses to adjust future designs accordingly. They end up requiring constant reminders to adhere to some standard way of solving a problem while giving no reason for why they don&rsquo;t seem to like the way the team is doing things. These can be ticking time-bombs in organizations, because when left unsupervised they can rapidly accumulate technical debt for other team members. This kind of problem is almost impossible to catch in a traditional interview, unless it&rsquo;s an internship.</p><h3 id=code-style-and-frameworks>Code Style and Frameworks</h3><p>Refusing to incorporate feedback is often just a slice of a much larger problem, where someone is unable to integrate properly into an existing framework being used. There are many ways to build a factory in Factorio, and each one requires standard methods of building pieces. Failing to adhere to standards can very quickly jam up an entire factory, often in subtle ways that aren&rsquo;t necessarily obvious to a careless developer.</p><p>In the Main Belt design, a set of 4-8 chunk of belts, divided by 2 spaces to allow for underground belts, are placed in the center of the factory, and all production happens perpendicular to the belt. This design relies on several rules that can wreck havoc if not followed correctly. One, players must always use a splitter to pull items off of a belt, never redirecting the entire belt, otherwise using the empty space for a different belt of items means you&rsquo;ll have permanently lost one entire belt of resources, even after upgrading belts. Two, all factories must be scalable in a direction perpendicular to the main belt. Failing to do this will rapidly result in either a massive waste of space, or a production line that cannot be scaled up because it&rsquo;s surrounded by other production lines.</p><p>There are also different ways of building logistic networks. The simplest method is with passive provider chests, but another method uses a storage chest with a filter, which is used to solve the trashed item problem. Both of these methods require properly setting limiters in the right location. Passive provider chests generally are limited by chest space. Storage chests require hooking the inserter for the chest up to the logistics network and ensuring that less than N of an item exists before inserting it. Forgetting to perform these limiting steps is a massive waste of resources. <em>Consistently</em> forgetting to put limiters on outputs is a red flag for someone who is careless about performance in real-world applications.</p><p>In other cases, the team may be using some pre-designed blueprints, like a nuclear reactor design, or a bot factory. These can be extremely complex, but as long as people are willing to learn how to use them, they can be huge time-savers. Beware of candidates who don&rsquo;t want to learn how to set up a new item in the bot factory simply because they can&rsquo;t debug the complex logic that drives it, or ones that get frustrated learning how to use a bot factory despite the clear and obvious benefits.</p><h3 id=multithreading>Multithreading</h3><p>Trains in Factorio are a direct analogue to multithreading: one train is one thread of execution, and each train intersection or train stop is a place in memory where two threads could potentially write at the same time. Train signals are locks, or mutexes. All bugs in train networks manifest in exactly the same way software race conditions do, because they&rsquo;re literally physical race conditions. All of the tradeoffs apply here as well - if you make a lock too large, it slows down your throughput, because now the intersection is blocked for a longer period of time. Incorrectly signaled tracks routinely cause train deadlocks that are exactly the same as a software deadlock, because you end up with a circular lock dependency. The most common deadlock is when a train is too long and unexpectedly blocks a second intersection while waiting to enter one. This second intersection then prevents another train from leaving, preventing the first intersection from ever being unblocked.</p><p>The number of lanes of track in your network is equivilent to the number of cores available in your CPU. A single rail line is difficult to scale beyond a few threads because the entire system gets throughput limited very quickly, even with wait areas. The most common design is a two-lane design where each lane is a single direction, but this will eventually suffer from throughput issues when you need trains constantly being unloaded. Thus, large bases tend to have at least 4 lanes, with two outer lanes acting as bypasses to avoid the intersection whenever possible.</p><p>Missing signal problems in these systems can take a ridiculous amount of time to actually show up. A single missing signal in one rail network once caused a deadlock after functioning correctly for <em>two weeks</em>. This is remniscient of difficult to pin down race conditions in software that only occur once a month or so when under high contention.</p><h3 id=scaling>Scaling</h3><p>Just like in software, scaling up production in Factorio introduces new problems with initial designs, and often require complete redesigns that can pipe resources into factories as fast as possible, while taking advange of production modules and speed module beacons. Belt limits become problematic even at the fastest belt speed, forcing players to find ways to split designs up so that more belts can be put in later down the line, or split up their factories into modules.</p><p>Handling your logistics network itself becomes a logistics problem in the late game because of how problematic expansive bot networks are. You generally need to start segmenting the logistics network and either using trains to transport items between them, or build a requester chest/provider chest that propagates items across bounderies.</p><p>Managing trains in the late game necessitates switching to a pull architecture from a push architecture, because the push architecture can&rsquo;t function in high throughput. This inevitably requires taking advantage of the Train Limits feature and learning how circuit networks can be used to encode basic logic, such that a station only requests a train when it is actually ready to completely fill the train with resources, instead of the common early game tactic of simply telling a bunch of trains to go to stations named &ldquo;Iron Pickup&rdquo;. This minimizes the number of trains you need while making sure all stops are served on the network.</p><p>Often times, limitations in the number of possible inputs to an assembly machine and inserter speed require redesigning factories around them, just like how high-speed computing requires being aware of subtle bottlenecks in how your CPU works. These bottlenecks are almost never a problem until you reach a certain scale, at which point they begin to dominate your efficiency.</p><h3 id=microservices-and-plugin-architectures>Microservices and Plugin Architectures</h3><p>Eventually, factories get so enormous they must abandon a simple main belt or spaghetti design and use a more scalable framework instead. To reach Megabase-scale, factories generally either use a train system or a module system, which corresponds roughly to microservices or a plugin-architecture.</p><p>A train-based megabase is sometimes referred to a &ldquo;city-block&rdquo; design, where trains surrounded factory blocks and control all input and output. Thus, each individual city-block is isolated from all other city-blocks, since all their input is &ldquo;pure&rdquo; in that it comes from the train network. This is almost identical to a micro-services architecture (over HTTP) or a multi-process design (using IPC), and has similar potential issues with input and output latency, because results cannot be continually provided, they must be emitted in &ldquo;packets&rdquo;, or trains along the network.</p><p>The plugin architecture seeks to maintain some semblence of a main-belt, but instead splits belts off through the factory and uses modular blocks that take standard inputs and standard outputs. Sometimes this can be achieved entirely through bots, but materials usually need to be belted over long distances. This closely resembles a plugin system for a monolithic application, and has similar tradeoffs.</p><p>These megabases mark the extreme upper end of a vanilla Factorio server. However, there are plenty of mods to make things much more complex.</p><h3 id=distributed-systems>Distributed Systems</h3><p><a href=https://mods.factorio.com/mod/space-exploration>Space Exploration</a> is an overhaul of Factorio that adds an entire space segment of the game, and makes planets have limited resources, requiring players to colonize other planets and use rockets to transfer resources between planets. Because of the enormous latency involved with shipping materials between planets, coordinating these different bases winds up having similar problems to a globally distributed database system. Even the circuit network has to contend with latency, because an automatic request system loses track of items that have been launched but haven&rsquo;t yet reached the target planet. Not accounting for this will result in a <em>double-request</em> for all the items you wanted, which is the <em>exact same problem</em> that distributed systems have when trying to ensure consistency.</p><h3 id=conclusion>Conclusion</h3><p>Collectively, the software industry simply has no idea how to hire software developers. Factorio is probably the best technical interview we have right now, and <em>that&rsquo;s embarassing</em>. It is also wildly impractical, taking over 20 hours in an initial multiplayer playthrough, or 8 hours if you have a lot of people and know what you&rsquo;re doing. What&rsquo;s the takeaway from this? I don&rsquo;t know. We certainly can&rsquo;t switch to using Factorio as an interviewing method - you might as well just give a candidate a take-home assignment.</p><p>At the very least, we can do better than whiteboard interviews.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2021-03-12T15:26:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/factorio-is-best-interview-we-have/>March 12, 2021 at 3:26pm</a></time><aside><a href=/blog/factorio-is-best-interview-we-have/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;0 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2ffactorio-is-best-interview-we-have%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Factorio%20Is%20The%20Best%20Technical%20Interview%20We%20Have&url=https%3a%2f%2ferikmcclure.com%2fblog%2ffactorio-is-best-interview-we-have%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2ffactorio-is-best-interview-we-have%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/why-you-cant-use-prebuilt-llvm-with-cpp17/>Why You Can't Use Prebuilt LLVM 10.0 with C++17</a></h4><hr><div class=padding><p>C++17 introduced <a href=https://en.cppreference.com/w/cpp/memory/new/operator_new>an alignment argument</a> to <code>::operator new()</code>. It&rsquo;s important to note that if you allocate something using aligned new, you <strong>absolutely must</strong> deallocate it <a href=https://en.cppreference.com/w/cpp/language/delete>using aligned delete</a>, or the behavior is undefined. LLVM 10.x takes advantage of this alignment parameter, if the compiler supports it. That means if you are compiling on Windows with MSVC set to C++14, <code>__cpp_aligned_new</code> is not defined and the extra argument isn&rsquo;t passed. Otherwise, if it&rsquo;s compiled with MSVC set to C++17, <a href=https://en.cppreference.com/w/User:D41D8CD98F/feature_testing_macros><code>__cpp_aligned_new</code> is defined</a> and the extra argument is passed.</p><p>There&rsquo;s just one teeny tiny little problem - <a href=https://github.com/llvm/llvm-project/blob/6d2f73f821ed5ea584869924b150ac2e6e65c12e/llvm/include/llvm/Support/Compiler.h#L568>the check was in a header file</a>.</p><p>Now, if this header file were completely internal and LLVM itself only ever called <code>::operator new()</code> from inside it&rsquo;s libraries, this wouldn&rsquo;t be a problem. As you might have guessed, this was not the case. LLVM was calling <code>allocate_buffer()</code> from inside header files. The corresponding <code>deallocate_buffer</code> call <em>was</em> inside the same header file, but sadly, it was called from a destructor, and <em>that</em> destructor had been called from inside one of LLVM&rsquo;s libraries, which meant it didn&rsquo;t know about aligned allocations&mldr; <strong>Oops!</strong></p><p>This means, if your program uses C++17, but LLVM was compiled with C++14, your program will happily pass LLVM <strong>aligned memory</strong>, which LLVM will then pass into <strong>the wrong delete operator</strong>, because it&rsquo;s calling the unaligned delete function from C++14 instead of the aligned delete function from C++17. This results in strange and bizarre heap corruption errors because of the mismatched <code>::operator new</code> and <code>::operator delete</code>. Arguably, the real bug here is LLVM calling any allocation function from a header file in the first place, as this is just begging for ABI problems.</p><p>Of course, one might ask why a C++17 application would be linking against LLVM compiled with C++14. Well, you see, the <a href=https://github.com/llvm/llvm-project/releases/tag/llvmorg-10.0.0>prebuilt LLVM binaries</a> were compiled against C++14&mldr; <strong>OOPS!</strong> Suddenly if you wanted to avoid compiling LLVM yourself, you couldn&rsquo;t use C++17 anymore!</p><p>Luckily <a href=https://github.com/llvm/llvm-project/commit/7aaff8fd2da2812a2b3cbc8a41af29774b10a7d6><strong>this has now been fixed</strong></a> after a bunch of people complained about the extremely unintuitive errors resulting from this mismatch. Unfortunately, as of this writing, <a href=https://github.com/llvm/llvm-project/releases/>LLVM still hasn&rsquo;t provided a new release</a>, which means you will still encounter this problem using the latest precompiled binaries of LLVM. Personally, I recompile LLVM using C++17 for my own projects, just to be safe, since LLVM does not gaurantee ABI compatibility in these situations.</p><p>Still, this is a particularly nasty case of an unintentional ABI break between C++ versions, which is easy to miss because most people assume C++ versions are backwards compatible. Be careful, and stop allocating memory in header files that might be deallocated inside your library!</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2020-07-09T02:50:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/why-you-cant-use-prebuilt-llvm-with-cpp17/>July 9, 2020 at 2:50am</a></time><aside><a href=/blog/why-you-cant-use-prebuilt-llvm-with-cpp17/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;0 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fwhy-you-cant-use-prebuilt-llvm-with-cpp17%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Why%20You%20Can%27t%20Use%20Prebuilt%20LLVM%2010.0%20with%20C%2b%2b17&url=https%3a%2f%2ferikmcclure.com%2fblog%2fwhy-you-cant-use-prebuilt-llvm-with-cpp17%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fwhy-you-cant-use-prebuilt-llvm-with-cpp17%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/someone-is-stealing-tracker-songs/>Someone Is Stealing Tracker Songs And Selling Them</a></h4><hr><div class=padding><p>Today, in response to a tweet talking about old untitled song ideas, I mentioned that I had a strange file called &ldquo;t.mp3&rdquo; sitting in my downloads folder that had been there for years and have no attached metadata or hint as to where it came from. It appeared to be a complete recording of a chiptune song, and it sounded very nice, but I had no way of knowing the original source. To my surprise, someone else had heard the song and hunted down a source on youtube: <a href="https://www.youtube.com/watch?v=6oVc6_2jb7E">S0 C1os3 - H4X0r</a>.</p><p><strong>But something was wrong</strong>. That video was uploaded in <strong>2019</strong>. The file I had was last modified in January 2010, over <em>10 years ago</em>, and for that matter it had been sitting in my downloads folder for almost as long. Perhaps the artist simply hadn&rsquo;t uploaded it to YouTube until recently? I decided to scroll through the comments, and discovered that someone posted the real name of the track: &ldquo;So Close&rdquo; by Floppi. I was even able to find the <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=46170">original XM file</a>, and sure enough, it had been uploaded way back in 2003.</p><p>Now, some random person uploading an old song on youtube and trying to take credit isn&rsquo;t really that surprising, but this Youtube channel is special - it&rsquo;s a <strong>Topic</strong> channel, which is autogenerated from the Google Play Store. It even says in the description, &ldquo;Provided to YouTube by DistroKid&rdquo;. DistroKid is a music distribution service that automatically registers and uploads your album to all the major online music stores. I&rsquo;ve used a similar service for my own albums, and do in fact have my own autogenerated Topic channel on Youtube, which is&mldr; kind of creepy, but that&rsquo;s besides the point.</p><p>The point is that <strong>someone has stolen 11 classic demoscene tracker songs and is selling them on every major online music store.</strong> The album is called &ldquo;H4x0r R007z&rdquo; and it consists entirely of blatantly stolen tracker songs lazily renamed using 1337 text, which usually means finding the original song is pretty easy. Because it was published via DistroKid, you can find it on <a href=https://open.spotify.com/album/5FX3bM1XqCMtWxmRl7F89K>Spotify</a>, <a href="https://play.google.com/music/preview/Bthmoz2r45ruexekqsvvrbto3au?play=1">Google Play</a>, <a href=https://music.apple.com/us/album/h4x0r-r007z-hacker-roots/1450759001>iTunes</a>, <a href=https://www.amazon.com/H4x0r-R007z-Hacker-Roots-H4X0r/dp/B07N675DCN>Amazon</a>, <a href="https://www.deezer.com/album/85630742?autoplay=true">Deezer</a>, <a href="https://www.iheart.com/artist/H4X0r-32755715/albums/H4x0r+R007z+%28Hacker+Roots%29-68519698?autoplay=true">iHeartRadio</a> and it&rsquo;s been registered into the automatically populated copyrighted songs databases! That means the artist &ldquo;H4x0r&rdquo; could <strong>legally issue copyright takedowns for every other legitimate upload of the actual songs</strong>, or abuse Google&rsquo;s automatic fingerprinting system to force monetization on all of the videos and take all the income.</p><p>The songs that were stolen were often used in keygen cracking software that was popular in the 2000s to pirate software. Many people have noted that this was often their first introduction to tracker music, and this is likely the source of the name &ldquo;H4x0r R007z&rdquo;, even though the songs themselves usually had nothing to do with the hacker groups. The original tracker files are still available in the scene archives, and other Youtube channels have uploaded MP3 recordings of the songs <em>with proper attribution</em>. I was able to source 9 out of the 11 songs from the album, with the real name and artist, plus a Youtube or Soundcloud recording (if you&rsquo;d like to play the original files yourself, you can use <a href=https://www.un4seen.com/>XMPlay</a>).</p><ol><li><strong>0 Pr1m4ry</strong><br>Real Name: &ldquo;primary&rdquo; by Ramosa<br>Original file: <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=67555">ramosa-primary.mod</a><br>Only exists on the <a href="https://www.youtube.com/watch?v=ogTHhDhWXm8">H4x0r channel</a></li><li><strong>5murf-E5Que</strong><br>Real Name: &ldquo;Smurf-Esque &lsquo;98&rdquo; by AGAiN<br>Author Info: Made with FastTracker 2 by Three Little Elks (3LE): Android (Jonas Kapla) Ant (Anton Halldin), Coma (Daniel Johansson), Nude (Sten Ulfsson), Tabasco (Niklas Soerensson)<br>Original file: <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=66589">smurf-es.mod</a><br><a href="https://www.youtube.com/watch?v=4Zc4ALM3Gww">Youtube</a></li><li><strong>Vib35 F20m Pa57</strong><br>Real Name: &ldquo;Vibes From Past&rdquo; by <a href=https://soundcloud.com/fegolhuzz>Fegolhuzz</a> (Figge Wasberger)<br>Original file: <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=170642">fegolhuzz_-_vibes_from_past.xm</a><br><a href=https://soundcloud.com/fegolhuzz/vibes-from-past>SoundCloud</a></li><li><strong>Bra1n Wound</strong><br>Real Name: &ldquo;Brain Wound&rdquo; by <a href="https://modarchive.org/index.php?request=view_profile&amp;query=68760">Ghidorah</a><br>Original file: <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=39531">bw.xm</a><br><a href="https://www.youtube.com/watch?v=JfPtcZO2TWo">Youtube</a></li><li><strong>Hy8r1d 50n9</strong><br>Real Name: &ldquo;Funky Stars (Hybrid Song)&rdquo; by Quazar (Axel Christofer Hedfors)<br>Author Info: Quazar is an old alias of <a href=https://en.wikipedia.org/wiki/Axwell>Axwell</a>, one of the members of the Swedish House Mafia.<br>Original file: <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=66187">external.xm</a><br><a href="https://www.youtube.com/watch?v=8LiTxEUxSHU">Youtube</a></li><li><strong>D0d3ch3dr0n</strong><br>I was unable to source this song, possibly because the original song name was a mispelling of Dodecahedron</li><li><strong>51ne-15te2</strong><br>Real Name: &ldquo;Sine-ister&rdquo; by dreamfish<br>Original file: <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=67503">sineiste.mod</a><br><a href="https://www.youtube.com/watch?v=7x93cD6zvww">Youtube</a> (Some recordings seem to have more clarity than XMPlay provides, but it&rsquo;s not clear if this was intended)</li><li><strong>Au70ma71k</strong><br>Real Name: &ldquo;Automatik&rdquo; by Rez<br>Original file: <a href=https://files.scene.org/view/music/artists/rez/rez-automatik.zip>rez-automatik.mod</a><br><a href="https://www.youtube.com/watch?v=h9yfqCDreDc">Youtube</a></li><li><strong>S3rV1l</strong><br>I was also unable to source this song, possibly due to spelling errors.</li><li><strong>S0 C1os3</strong><br>Real Name: &ldquo;So Close&rdquo; by Floppi (Tero Laihanen)<br>Original file: <a href="https://modarchive.org/index.php?request=view_by_moduleid&amp;query=46170">intro13.xm</a><br><a href="https://www.youtube.com/watch?v=R7mgXC7t8PA">Youtube</a></li><li><strong>5or3 Po1nt</strong><br>Real Name: &ldquo;Sore Point&rdquo;<br>Author Information: The original author of this song is unknown, although it was converted to .xm format for Infinitode 2. It was featured in several keygens made by AiR.<br>Original file: Unknown. Various conversions to other formats are available.<br><a href="https://www.youtube.com/watch?v=z8qmK3gTAf4">Youtube</a></li></ol></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2020-03-22T12:08:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/someone-is-stealing-tracker-songs/>March 22, 2020 at 12:08pm</a></time><aside><a href=/blog/someone-is-stealing-tracker-songs/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;0 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fsomeone-is-stealing-tracker-songs%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Someone%20Is%20Stealing%20Tracker%20Songs%20And%20Selling%20Them&url=https%3a%2f%2ferikmcclure.com%2fblog%2fsomeone-is-stealing-tracker-songs%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fsomeone-is-stealing-tracker-songs%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><div class=pager><ul><li><a href=/blog/page/2>Newer</a></li><li style=text-align:center><a href=/blog/>Home</a></li><li style=text-align:right><a href=/blog/page/4>Older</a></li></ul></div></section><section class=archive><article><img src=https://erikmcclure.com/img/avatar.th.png alt=Avatar width=180 height=180><h2>Archive</h2><ol><li><details><summary>2024</summary><ul><li><a href=/blog/we-could-fix-everything-we-just-dont/>We Could Fix Everything, We Just Don't</a></li></ul></details></li><li><details><summary>2023</summary><ul><li><a href=/blog/people-cant-care-about-everything/>People Can't Care About Everything</a></li><li><a href=/blog/discord-should-remove-usernames/>Discord Should Remove Usernames Entirely</a></li><li><a href=/blog/age-of-bullshit/>Welcome to the Age of Bullshit</a></li><li><a href=/blog/nuerodivergents-will-inherit-the-earth/>Neurodivergents Will Inherit The Earth</a></li></ul></details></li><li><details><summary>2022</summary><ul><li><a href=/blog/money-is-fake/>Money Is Fake. It's Not Real. It's Made Up.</a></li><li><a href=/blog/we-need-new-motherboards/>We Need New Motherboards Before GPUs Collapse Under Their Own Gravity</a></li><li><a href=/blog/never-respect-my-elders-after-what-they-did/>I'll Never Respect My Elders After What They've Done</a></li><li><a href=/blog/camp-vista/>Camp Vista - Growing Up Next To Microsoft</a></li></ul></details></li><li><details><summary>2021</summary><ul><li><a href=/blog/offworld-pack-orphans/>Kits And Pack Orphans First [Fiction]</a></li><li><a href=/blog/blockchain-new-javascript/>Blockchain Is The New JavaScript</a></li><li><a href=/blog/cpp-constructors-memory-and-lifetimes/>C++ Constructors, Memory, and Lifetimes</a></li><li><a href=/blog/factorio-is-best-interview-we-have/>Factorio Is The Best Technical Interview We Have</a></li></ul></details></li><li><details><summary>2020</summary><ul><li><a href=/blog/why-you-cant-use-prebuilt-llvm-with-cpp17/>Why You Can't Use Prebuilt LLVM 10.0 with C++17</a></li><li><a href=/blog/someone-is-stealing-tracker-songs/>Someone Is Stealing Tracker Songs And Selling Them</a></li><li><a href=/blog/pressure-based-anti-spam-for-discord-bots/>Pressure Based Anti-Spam for Discord Bots</a></li></ul></details></li><li><details><summary>2019</summary><ul><li><a href=/blog/name-shadowing-should-be-an-operator/>Name Shadowing Should Be An Operator</a></li><li><a href=/blog/a-rant-on-terra/>A Rant On Terra</a></li><li><a href=/blog/risc-is-fundamentally-unscalable/>RISC Is Fundamentally Unscalable</a></li></ul></details></li><li><details><summary>2018</summary><ul><li><a href=/blog/software-engineering-is-bad-but-it-s-not-that-bad/>Software Engineering Is Bad, But That's Not Why</a></li><li><a href=/blog/why-do-people-use-the-wrong-email-/>Why Do People Use The Wrong Email?</a></li><li><a href=/blog/software-optimizes-to-single-points-of-failure/>Software Optimizes to Single Points of Failure</a></li><li><a href=/blog/migrating-to-static-blog/>Migrating To A Static Blog</a></li><li><a href=/blog/how-to-avoid-memorizing-times-tables/>How To Avoid Memorizing Times Tables</a></li></ul></details></li><li><details><summary>2017</summary><ul><li><a href=/blog/ignoring-outliers-creates-racist/>Ignoring Outliers Creates Racist Algorithms</a></li><li><a href=/blog/i-used-to-want-to-work-for-google/>I Used To Want To Work For Google</a></li><li><a href=/blog/sexist-programmers-are-awful-engineers/>Sexist Programmers Are Awful Engineers</a></li><li><a href=/blog/why-i-never-built-my-soundcloud-killer/>Why I Never Built My SoundCloud Killer</a></li><li><a href=/blog/integrating-luajit-and-autogenerating-c/>Integrating LuaJIT and Autogenerating C Bindings In Visual Studio</a></li><li><a href=/blog/discord-rise-of-bot-wars/>Discord: Rise Of The Bot Wars</a></li><li><a href=/blog/programmers-should-take-linguistics/>Programmers Should Take Linguistics</a></li><li><a href=/blog/companies-cant-be-apolitical/>Companies Can't Be Apolitical</a></li><li><a href=/blog/i-cant-hear-anything-below-80-hz/>I Can't Hear Anything Below 80 Hz*</a></li><li><a href=/blog/windows-wont-let-my-program-crash/>Windows Won't Let My Program Crash</a></li><li><a href=/blog/directx-is-terrifying/>DirectX Is Terrifying</a></li><li><a href=/blog/our-software-is-beacon-of-hope/>Our Software Is a Beacon of Hope</a></li></ul></details></li><li><details><summary>2016</summary><ul><li><a href=/blog/everyone-does-srgb-wrong-because/>Everyone Does sRGB Wrong Because Everyone Else Does sRGB Wrong</a></li><li><a href=/blog/mathematical-notation-is-awful/>Mathematical Notation Is Awful</a></li><li><a href=/blog/the-gpl-is-usually-overkill/>The GPL Is Usually Overkill</a></li><li><a href=/blog/the-right-to-ignore-difference-between/>The Right To Ignore: The Difference Between Free Speech And Harassment</a></li></ul></details></li><li><details><summary>2015</summary><ul><li><a href=/blog/there-will-never-be-one-true/>There Will Never Be One True Programming Language</a></li><li><a href=/blog/abortion-has-no-moral-high-ground/>Abortion Has No Moral High Ground</a></li><li><a href=/blog/i-tried-to-install-linux-and-now-i/>I Tried To Install Linux And Now I Regret Everything</a></li><li><a href=/blog/you-arent-designing-software-for-robots/>We Aren't Designing Software For Robots</a></li><li><a href=/blog/using-data-to-balance-your-game-pony/>Using Data To Balance Your Game: Pony Clicker Analysis</a></li><li><a href=/blog/is-there-commercial-open-source-license/>Is There A Commercial Open Source License?</a></li><li><a href=/blog/does-anyone-actually-want-good-software/>Does Anyone Actually Want Good Software?</a></li><li><a href=/blog/why-dont-you-just-fire-them/>Why Don't You Just Fire Them?</a></li></ul></details></li><li><details><summary>2014</summary><ul><li><a href=/blog/how-not-to-sell-software/>How Not To Install Software</a></li><li><a href=/blog/not-reinventing-wheel-is-anticompetitive/>Never Reinventing The Wheel Is Anticompetitive</a></li><li><a href=/blog/everyone-can-be-above-average/>Everyone Can Be Above Average</a></li><li><a href=/blog/can-we-choose-what-we-enjoy/>Can We Choose What We Enjoy?</a></li><li><a href=/blog/how-to-make-your-profiler-10x-faster/>How To Make Your Profiler 10x Faster</a></li><li><a href=/blog/the-problem-with-photorealism/>The Problem With Photorealism</a></li><li><a href=/blog/success-is-relative/>Success Is Relative</a></li></ul></details></li><li><details><summary>2013</summary><ul><li><a href=/blog/googles-decline-really-bugs-me/>Google's Decline Really Bugs Me</a></li><li><a href=/blog/the-educational-imbroglio/>The Educational Imbroglio</a></li><li><a href=/blog/the-ladder-climbing-generation/>The Ladder-Climbing Generation</a></li><li><a href=/blog/the-microsoft-word-problem/>The Microsoft Word Problem</a></li><li><a href=/blog/write-less-code/>Write Less Code</a></li><li><a href=/blog/most-people-have-shitty-computers/>Most People Have Shitty Computers</a></li><li><a href=/blog/leap-motion-impressions-input/>Leap Motion Impressions, Input Sanitation, and 3D Gesture Ideas</a></li><li><a href=/blog/aurora-theory-released/>Aurora Theory Released!</a></li><li><a href=/blog/what-i-learned-in-college/>What I Learned In College</a></li><li><a href=/blog/how-to-complain-about-men-and-be-sexist/>How To Complain About Men And Be Sexist At The Same Time</a></li><li><a href=/blog/course-notes/>Course Notes</a></li><li><a href=/blog/contact/>Contact</a></li><li><a href=/blog/the-dark-side-of-htmlcss/>The Dark Side of Web Development</a></li><li><a href=/blog/windows-breaks-assert-inside/>Windows Breaks assert() Inside WM_CANCELMODE</a></li><li><a href=/blog/dreams-are-worth-fighting-for/>Dreams Are Worth Fighting For</a></li><li><a href=/blog/the-productivity-fallacy/>The Productivity Fallacy</a></li><li><a href=/blog/the-earbud-loudness-wars/>The Earbud Loudness Wars</a></li></ul></details></li><li><details><summary>2012</summary><ul><li><a href=/blog/giant-list-of-free-samples/>Giant List of FREE SAMPLES</a></li><li><a href=/blog/the-weekend-apelsin-got-lost-all-time/>The Weekend I Got Lost All The Time</a></li><li><a href=/blog/c-to-c-tutorial-part-4-operator-overload/>C# to C++ Tutorial - Part 4: Operator Overload</a></li><li><a href=/blog/7-problems-raytracing-doesnt-solve/>7 Problems Raytracing Doesn't Solve</a></li><li><a href=/blog/teenage-rebellion-as-failure-of-society/>Teenage Rebellion as a Failure of Society</a></li><li><a href=/blog/analyzing-xkcd-click-and-drag/>Analyzing XKCD: Click and Drag</a></li><li><a href=/blog/what-is-right-answer/>What Is A Right Answer?</a></li><li><a href=/blog/coordinate-systems-and-cascading/>Coordinate Systems And Cascading Stupidity</a></li><li><a href=/blog/how-joysticks-ruined-my-graphics-engine/>How Joysticks Ruined My Graphics Engine</a></li><li><a href=/blog/properly-dreaming-about-success/>Properly Dreaming About Success</a></li><li><a href=/blog/multithreading-problems-in-game-design/>Multithreading Problems In Game Design</a></li><li><a href=/blog/ip-law-makes-you-asshole/>IP Law Makes You an Asshole</a></li><li><a href=/blog/stop-following-rules/>Stop Following The Rules</a></li><li><a href=/blog/standards-problem/>The Standards Problem</a></li><li><a href=/blog/an-evidence-based-refutation-of-the-project-glass-parodies/>An evidence-based refutation of the Project Glass parodies</a></li><li><a href=/blog/language-wars-are-pointless/>Language Wars Are Pointless</a></li><li><a href=/blog/why-windows-8-does-right-thing-wrong/>Why Windows 8 Does The Right Thing The Wrong Way</a></li><li><a href=/blog/well-that-was-interesting/>Well That Was Interesting</a></li><li><a href=/blog/visual-studio-broke-my-computer/>Visual Studio Broke My Computer</a></li><li><a href=/blog/hiring-wrong-people/>Hiring the Wrong People</a></li><li><a href=/blog/chill-out/>Chill Out</a></li><li><a href=/blog/implicit-ui-design/>Implicit UI Design</a></li><li><a href=/blog/linux-mint-12-kde/>Linux Mint 12 KDE</a></li><li><a href=/blog/new-post/>'Programmer' is an Overgeneralization</a></li><li><a href=/blog/wikipedias-identity-crisis/>Wikipedia's Identity Crisis</a></li></ul></details></li><li><details><summary>2011</summary><ul><li><a href=/blog/your-esoteric-language-is-useless/>Your Esoteric Language is Useless</a></li><li><a href=/blog/great-mystery-of-linear-gradient/>The Great Mystery of Linear Gradient Lighting</a></li><li><a href=/blog/signed-integers-considered-stupid-like/>Signed Integers Considered Stupid (Like This Title)</a></li><li><a href=/blog/why-kids-hate-math/>Why Kids Hate Math</a></li><li><a href=/blog/importance-of-importance/>Don't Work on Someone Else's Dream</a></li><li><a href=/blog/c-to-c-tutorial-part-3-classes-and/>C# to C++ Tutorial - Part 3: Classes and Structs and Inheritance (OH MY!)</a></li><li><a href=/blog/problem-of-vsync/>The Problem of Vsync</a></li><li><a href=/blog/musical-genres/>Musical Genres</a></li><li><a href=/blog/c-to-c-tutorial-part-2-pointers/>C# to C++ Tutorial - Part 2: Pointers Everywhere!</a></li><li><a href=/blog/radians-explanation/>Radians: An explanation</a></li><li><a href=/blog/c-to-c-tutorial-part-1-basics-of-syntax/>C# to C++ Tutorial - Part 1: Basics of Syntax</a></li><li><a href=/blog/on-hackers/>On Hacking (or Why We Need Security Ratings)</a></li><li><a href=/blog/my-mom-had-heart-attack/>My Mom Had a Heart Attack</a></li><li><a href=/blog/religion-problem-perspectives/>The Religion Problem: Perspectives</a></li><li><a href=/blog/ninth-circle-of-bugs/>The Ninth Circle of Bugs</a></li><li><a href=/blog/save-rss/>Save RSS</a></li><li><a href=/blog/college-is-broken/>College Is Broken</a></li><li><a href=/blog/outside-perspective-on-psn-fiasco/>An Outside Perspective on the PSN Fiasco</a></li><li><a href=/blog/future-predictions/>Future Predictions</a></li><li><a href=/blog/investigating-low-level-cpu-performance/>Investigating Low-level CPU Performance</a></li><li><a href=/blog/bullying-never-stops/>The Bullying Never Stops</a></li></ul></details></li><li><details><summary>2010</summary><ul><li><a href=/blog/im-failure/>The IM Failure</a></li><li><a href=/blog/how-to-train-your-dragon/>How To Train Your Dragon</a></li><li><a href=/blog/album-for-sale-renascent/>Album For Sale! [Renascent]</a></li><li><a href=/blog/wavsaver/>WavSaver</a></li><li><a href=/blog/pixel-perfect-hit-testing/>Pixel Perfect Hit Testing</a></li><li><a href=/blog/fractal-cycle-screensaver/>Fractal Cycle Screensaver</a></li><li><a href=/blog/8-bit-color-cycling/>8-bit color cycling</a></li><li><a href=/blog/physics-networking/>Physics Networking</a></li><li><a href=/blog/assembly-cas-implementation/>Assembly CAS implementation</a></li><li><a href=/blog/function-pointer-speed/>Function Pointer Speed</a></li><li><a href=/blog/most-bizarre-error-ever/>Most Bizarre Error Ever</a></li><li><a href=/blog/floating-point-preformance/>Floating Point Preformance</a></li><li><a href=/blog/watch-this-now/>Watch This Now</a></li></ul></details></li><li><details><summary>2009</summary><ul><li><a href=/blog/physics-oriented-network-interpolation/>Physics-oriented Network Interpolation</a></li><li><a href=/blog/proving-strong-ai/>Proving Strong AI</a></li><li><a href=/blog/i-now-have-lj/>I now have an LJ</a></li></ul></details></li></ol></article></section></main><footer><p><span>Copyright &copy;2024 Erik McClure</span> <a href=https://erikmcclure.com/sitemap.xml>Sitemap</a> | <a href=https://erikmcclure.com/blog/index.xml>RSS Feed</a></p></footer></div><script>"use strict";window.onload=function(){e=document.getElementsByClassName("math");for(var e,t=0,n=e.length;t<n;t++)renderMathInElement(e[t],{delimiters:[{left:"$$",right:"$$",display:!1},{left:"\\[",right:"\\]",display:!0}]})}</script></body></html>