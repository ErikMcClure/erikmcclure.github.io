<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=Edge"><meta http-equiv=permissions-policy content="interest-cohort=()"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#2b7bb5"><meta name=copyright content="Copyright (c)2025 Erik McClure"><meta name=keywords content="games,music,code,erik mcclure,erikmcclure,aurora theory,sweetie bot,discord,feathergui,fading light,tinyoal,cloud hop"><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=google-site-verification content="Oxb2ia8HjcHLXlvstA8xPpQO3BO_y15Ds2Ia-feq1MQ"><meta name=generator content="Hugo 0.119.0"><link rel=me href=https://equestria.social/@cloudhop><link rel=canonical href=https://erikmcclure.com/blog/><link rel=apple-touch-icon href=https://erikmcclure.com/favicon.ico><link rel="shortcut icon" type=image/x-icon href=https://erikmcclure.com/favicon.ico><link rel=stylesheet href=https://erikmcclure.com/css/main.css><link rel=stylesheet href=https://erikmcclure.com/css/prism.css rel=stylesheet><link rel=stylesheet href=https://erikmcclure.com/css/katex.min.css rel=stylesheet><link rel=stylesheet href=https://erikmcclure.com/css/fontawesome.min.css><link rel=stylesheet href=https://erikmcclure.com/css/regular.min.css><link rel=stylesheet href=https://erikmcclure.com/css/brands.min.css><link rel=stylesheet href=https://erikmcclure.com/css/solid.min.css><link rel=alternate type=application/rss+xml title="Erik McClure - RSS" href=https://erikmcclure.com/blog/index.xml><meta property="og:type" content="website"><title>Blogs - Erik McClure</title><meta property="og:title" content="Blogs - Erik McClure"><meta name=twitter:title content="Blogs - Erik McClure"><meta itemprop=name content="Blogs - Erik McClure"><meta name=description content="Applied mathematician and software architect who occasionally writes music."><meta property="og:description" content="Applied mathematician and software architect who occasionally writes music."><meta name=twitter:description content="Applied mathematician and software architect who occasionally writes music."><meta itemprop=description content="Applied mathematician and software architect who occasionally writes music."><meta property="og:url" content="https://erikmcclure.com/"><meta property="og:site_name" content="Erik McClure"><meta property="og:image" content="https://erikmcclure.com/img/avatar.png"><meta property="og:locale" content="en-US"><meta property="article:author" content="Erik McClure"><meta name=twitter:card content="summary"><meta name=twitter:site content="@erikmcclure0173"><meta name=twitter:creator content="@erikmcclure0173"><meta name=twitter:image content="https://erikmcclure.com/img/avatar.png"><meta name=twitter:dnt content="on"><link href=https://plus.google.com/104896885003230920472 rel=publisher><meta itemprop=image content="https://erikmcclure.com/img/avatar.png"><meta name=last-updated content="20250119-10:16:00.000"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-63026815-3"></script>
<script defer src=https://erikmcclure.com/syntax-prism.js></script>
<script defer src=https://erikmcclure.com/katex.min.js></script>
<script defer src=https://erikmcclure.com/mathtex-script-type.min.js></script>
<script defer src=https://erikmcclure.com/auto-render.min.js></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-63026815-3")</script></head><body><div id=container><header><nav><ul><li><a href=/blog/ title=Blog><i class="fa-solid fa-book fa-fw fa-lg"></i>&nbsp;<p>Blog</p></a></li><li><a href=/projects/ title=Projects><i class="fa-solid fa-briefcase fa-fw fa-lg"></i>&nbsp;<p>Projects</p></a></li><li><a href=https://erikmcclure.bandcamp.com title=Bandcamp><i class="fa-brands fa-bandcamp fa-fw fa-lg"></i>&nbsp;<p>Bandcamp</p></a></li><li><a href=https://github.com/erikmcclure title=Github><i class="fa-brands fa-github fa-fw fa-lg"></i>&nbsp;<p>Github</p></a></li><li><a href=/web/ title=Websites><i class="fa-solid fa-globe fa-fw fa-lg"></i>&nbsp;<p>Websites</p></a></li></ul></nav><div class=dim><h1>Erik McClure</h1></div></header><main class=blog><section><article><h4><a href=/blog/everyone-does-srgb-wrong-because/>Everyone Does sRGB Wrong Because Everyone Else Does sRGB Wrong</a></h4><hr><div class=padding><p>Did you know that CSS3 does all its linear gradients and color interpolation completely wrong? All color values in CSS3 are in the sRGB color space, because that&rsquo;s the color space that gets displayed on our monitor. However, the problem is that the sRGB color space looks like this:</p><p><center><a href=https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/SRGB_gamma.svg/250px-SRGB_gamma.svg.png target=_blank><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/SRGB_gamma.svg/250px-SRGB_gamma.svg.png alt="sRGB gamma curve"></a></center></p><p>Trying to do a linear interpolation along a nonlinear curve doesn&rsquo;t work very well. Instead, you&rsquo;re supposed to linearize your color values, transforming the sRGB curve to the linear RGB curve before doing your operation, and then transforming it back into the sRGB curve. This is gamma correction. Here are comparisons between gradients, transitions, alpha blending, and image resizing done directly in sRGB space (assuming your browser complies with the W3C spec) versus in linear RGB:</p><p><table style="margin:0 auto"><tr><th>sRGB</th><th>Linear</th></tr><tr><td><div style="background:linear-gradient( 0deg,#FF0000,#00FF00);width:100px;height:100px"></div></td><td style=vertical-align:center><img src=/img/srgb_gradient.png style=padding:0;border:0></td></tr><tr><td><div id=srgbani style=background:red;width:100px;height:100px></div></td><td><div id=linearani style=background:red;width:100px;height:100px></div></td></tr><tr><td><img src=/img/srgb_radial.png style=background:red;width:100px;height:100px;margin:0;padding:0;border:0></td><td><img src=/img/srgb_alpha.png style=padding:0;border:0></td></tr><tr><td><img src=/img/srgb_resize.png style=padding:0;border:0 height=100 width=100></td><td><img src=/img/srgb_resize_correct.png style="padding:0;height=" 100" width=100></td></tr></table>At this point you&rsquo;ve probably seen a bazillion posts about how you&rsquo;re doing color interpolation wrong, or gradients wrong, or alpha blending wrong, and the reason is because&mldr; you&rsquo;re doing it wrong. But one can hardly blame you, because <strong>everyone</strong> is doing it wrong. CSS does it wrong because SVG does it wrong because Photoshop does it wrong because everyone else does it wrong. It&rsquo;s all wrong.</p><p>The amazing thing here is that the W3C is <a href=https://lists.w3.org/Archives/Public/www-style/2012Jan/0635.html>entirely aware of how wrong CSS3 linear gradients are</a>, but did it anyway to be consistent with everything else that does them wrong. It&rsquo;s interesting that while SVG is wrong by default, it <em>does</em> provide a way to fix this, via <code>color-interpolation</code>. Of course, CSS doesn&rsquo;t have this property yet, so literally all gradients and transitions on the web are wrong because there is no other choice. Even if CSS provided a way to fix this, it would still have to default to being wrong.</p><p>It seems we have reached a point where, after years of doing sRGB interpolation incorrectly, we continue to do it wrong not because we don&rsquo;t know better, but because everyone else is doing it wrong. So everyone&rsquo;s doing it wrong because everyone else is doing it wrong. A single bad choice done long ago has locked us into <strong>compatibility hell</strong>. We got it wrong the first time so now we have to keep getting it wrong because everyone expects the wrong result.</p><p>It doesn&rsquo;t help that we don&rsquo;t always necessarily <em>want</em> the correct interpolation. The reason direct interpolation in sRGB is wrong is because it changes the perceived luminosity. Notice that when going from red to green, the sRGB gradient gets darker in the middle of the transition, while the gamma-corrected one has constant perceived luminosity. However, an artist may prefer the sRGB curve to the linearized one because it puts more emphasis on red and green. This problem gets worse when artists use toolchains inside sRGB and unknowingly compensate for any gamma errors such that the result is roughly what one would expect. This is a particular issue in games, because games really do need gamma-correct lighting pipelines, but the GUIs were often built using incorrect sRGB interpolation, so doing gamma-correct alpha blending gives you the wrong result because the alpha values were already chosen to compensate for incorrect blending.</p><p>In short, this is quite a mess we&rsquo;ve gotten ourselves into, but I think the most important thing we can do is give people the <em>option</em> of having a gamma correct pipeline. It is not difficult to selectively blend things with proper gamma correction. We need to have things like SVG&rsquo;s <code>color-interpolation</code> property in CSS, and other software needs to provide optional gamma correct pipelines (I&rsquo;m looking at you, photoshop).</p><p>Maybe, eventually, we can dig ourselves out of this sRGB hell we&rsquo;ve gotten ourselves into.</p><script>function decimalToHex(e){var t=Math.floor(e).toString(16),t="000000".substr(0,6-t.length)+t;return t}var start=null;function fromlinear(e){return e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055}function transitionlinear(e){start||(start=e);var n=e-start,s=document.getElementById("srgbani"),o=document.getElementById("linearani"),t=n*5e-4%1;s.style.backgroundColor="#"+decimalToHex(Math.floor(t*256)*256+Math.floor((1-t)*256)*256*256),o.style.backgroundColor="#"+decimalToHex(Math.floor(fromlinear(t)*256)*256+Math.floor(fromlinear(1-t)*256)*256*256),window.requestAnimationFrame(transitionlinear)}window.requestAnimationFrame(transitionlinear)</script></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2016-12-20T15:26:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/everyone-does-srgb-wrong-because/>December 20, 2016 at 3:26pm</a></time><aside><a href=/blog/everyone-does-srgb-wrong-because/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;0 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2feveryone-does-srgb-wrong-because%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Everyone%20Does%20sRGB%20Wrong%20Because%20Everyone%20Else%20Does%20sRGB%20Wrong&url=https%3a%2f%2ferikmcclure.com%2fblog%2feveryone-does-srgb-wrong-because%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2feveryone-does-srgb-wrong-because%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/mathematical-notation-is-awful/>Mathematical Notation Is Awful</a></h4><hr><div class=padding><p>Today, a friend asked me for help figuring out how to calculate the standard deviation over a discrete probability distribution. I pulled up <a href=https://erikmcclure.com/blog/course-notes/>my notes from college</a> and was able to correctly calculate the standard deviation they had been unable to derive after hours upon hours of searching the internet and trying to piece together poor explanations from questionable sources. The crux of the problem was, as I had suspected, the astonishingly bad notation involved with this particular calculation. You see, the expected value of a given distribution <span class=math>$$ X $$</span> is expressed as <span class=math>$$ E[X] $$</span>, which is calculated using the following formula:<div class=math>\[ E[X] = \sum_{i=1}^{\infty} x_i p(x_i) \]</div>The standard deviation is the square root of the variance, and the variance is given in terms of the expected value.<div class=math>\[ Var(X) = E[X^2] - (E[X])^2 \]</div>Except that <span class=math>$$ E[X^2] $$</span> is of course completely different from <span class=math>$$ (E[X])^2 $$</span>, but it gets worse, because <span class=math>$$ E[X^2] $$</span> makes <em>no notational sense whatsoever</em>. In any other function, in math, doing <span class=math>$$ f(x^2) $$</span> means going through and substitution <span class=math>$$ x $$</span> with <span class=math>$$ x^2 $$</span>. In this case, however, <span class=math>$$ E[X] $$</span> actually doesn&rsquo;t have anything to do with the resulting equation, because <span class=math>$$ X \neq x_i $$</span>, and as a result, the equation for <span class=math>$$ E[X^2] $$</span> is this:<div class=math>\[ E[X^2] = \sum_i x_i^2 p(x_i) \]</div>Only the first <span class=math>$$ x_i $$</span> is squared. <span class=math>$$ p(x_i) $$</span> isn&rsquo;t, because it doesn&rsquo;t make any sense in the first place. It should really be just <span class=math>$$ P_{Xi} $$</span> or something, because it&rsquo;s a <em>discrete value</em>, not a function! It would also explain why the <span class=math>$$ x_i $$</span> inside <span class=math>$$ p() $$</span> isn&rsquo;t squared - because it <em>doesn&rsquo;t even exist</em>, it&rsquo;s just a gross abuse of notation. This situation is so bloody confusing I even explicitely laid out the equation for <span class=math>$$ E[X^2] $$</span> in my own notes, presumably to prevent me from trying to figure out what the hell was going on in the middle of my final.</p><p>That, however, was only the beginning. Another question required them to find the covariance between two seperate discrete distributions, <span class=math>$$ X $$</span> and <span class=math>$$ Y $$</span>. I have never actually done covariance, so my notes were of no help here, and I was forced to <a href=https://en.wikipedia.org/wiki/Covariance>return to wikipedia</a>, which gives this helpful equation.<div class=math>\[ cov(X,Y) = E[XY] - E[X]E[Y] \]</div>Oh shit. I&rsquo;ve already established that <span class=math>$$ E[X^2] $$</span> is impossible to determine because the notation doesn&rsquo;t rely on any obvious rules, which means that <span class=math>$$ E[XY] $$</span> could evaluate to <em>god knows what</em>. Luckily, wikipedia has an alternative calculation method:<div class=math>\[ cov(X,Y) = \frac{1}{n}\sum_{i=1}^{n} (x_i - E(X))(y_i - E(Y)) \]</div>This almost works, except for two problems. One, <span class=math>$$ \frac{1}{n} $$</span> doesn&rsquo;t actually work because we have a nonuniform discrete probability distribution, so we have to substitute multiplying in the probability mass function <span class=math>$$ p(x_i,y_i) $$</span> instead. Two, wikipedia refers to <span class=math>$$ E(X) $$</span> and <span class=math>$$ E(Y) $$</span> as the <strong>means</strong>, not the expected value. This gets even more confusing because, at the beginning of the Wikipedia article, it used brackets (<span class=math>$$ E[X] $$</span>), and now it&rsquo;s using parenthesis (<span class=math>$$ E(X) $$</span>). Is that the same value? Is it something completely different? Calling it the mean would be confusing because the average of a given data set isn&rsquo;t necessarily the same as finding what the average <em>expected value</em> of a probability distribution is, which is why we call it the <em>expected value</em>. But naturally, I quickly discovered that <strong>yes</strong>, the mean and the average and the expected value are all <strong>exactly the same thing!</strong> Also, I still don&rsquo;t know why Wikipedia suddenly switched to <span class=math>$$ E(X) $$</span> instead of <span class=math>$$ E[X] $$</span> because it stills means <em>the exact same goddamn thing</em>.</p><p>We&rsquo;re up to, what, five different ways of saying <em>the same thing?</em> At least, I&rsquo;m assuming it&rsquo;s the same thing, but there could be some incredibly subtle distinction between the two that nobody ever explains anywhere except in some academic paper locked up behind a paywall that was published 30 years ago, because apparently mathematicians are okay with this.</p><p>Even then, this is just <em>one instance</em> where the ambiguity and redundancy in our mathematical notation has caused enormous confusion. I find it particularly telling that the most difficult part about figuring out any mathematical equation for me is usually to simply figure out what all the goddamn notation even <em>means</em>, because usually most of it isn&rsquo;t explained at all. Do you know how many ways we have of taking the derivative of something?</p><p><span class=math>$$ f'(x) $$</span> is the same as <span class=math>$$ \frac{dy}{dx} $$</span> or <span class=math>$$ \frac{df}{dx} $$</span> even <span class=math>$$ \frac{d}{dx}f(x) $$</span> which is the same as <span class=math>$$ \dot x $$</span> which is the same as <span class=math>$$ Df $$</span> which is technically the same as <span class=math>$$ D_xf(x) $$</span> and also <span class=math>$$ D_xy $$</span> which is also the same as <span class=math>$$ f_x(x) $$</span> provided x is the only variable, because taking the partial derivative of a function with only one variable is the exact same as taking the derivative in the first place, and I&rsquo;ve actually seen math papers abuse this fact instead of use some other sane notation for the derivative. And that&rsquo;s just for the derivative!</p><p>Don&rsquo;t even get me started on multiplication, where we use <span class=math>$$ 2 \times 2 $$</span> in elementary school, <span class=math>$$ * $$</span> on computers, but use <span class=math>$$ \cdot $$</span> or simply stick two things next to each other in traditional mathematics. Not only is using <span class=math>$$ \times $$</span> confusing as a multiplicative operator when you have <span class=math>$$ x $$</span> floating around, but it&rsquo;s a <em>real operator!</em> It means <a href=https://en.wikipedia.org/wiki/Cross_product>cross product</a> in vector analysis. Of course, the <span class=math>$$ \cdot $$</span> also doubles as meaning the Dot Product, which is at least nominally acceptable since a dot product does reduce to a simple multiplication of scalar values. The Outer Product is generally given as <span class=math>$$ \otimes $$</span>, unless you&rsquo;re in Geometric Algebra, in which case it&rsquo;s given by <span class=math>$$ \wedge $$</span>, which of course means <strong>AND</strong> in <a href=https://en.wikipedia.org/wiki/Logical_conjunction>binary logic</a>. Geometric Algebra then re-uses the cross product symbol <span class=math>$$ \times $$</span> to instead mean <em>commutator product</em>, and also defines the <em>regressive product</em> as the dual of the outer product, which uses <span class=math>$$ \nabla $$</span>. This conflicts with the <a href=https://en.wikipedia.org/wiki/Gradient>gradient operator</a> in multivariable calculus, which uses the exact same symbol in a totally different context, and just for fun it also defined <span class=math>$$ * $$</span> as the &ldquo;scalar&rdquo; product, just to make sure every possible operator has been violently hijacked to mean something completely unexpected.</p><p>This is just <em>one area</em> of mathematics - it is common for many different subfields of math to redefine operators into their own meaning and god forbid any of these fields actually come into contact with each other because then no one knows what the hell is going on. Math is a language that is about as consistent as English, and that&rsquo;s on a good day.</p><p>I am sick and tired of people complaining that nobody likes math when they refuse to admit that mathematical notation sucks, and is a major roadblock for many students. It is useful only for advanced mathematics that take place in university graduate programs and research laboratories. It&rsquo;s hard enough to teach people calculus, let alone expose them to something useful like statistical analysis or matrix algebra that is relevant in our modern world when the notation looks like Greek and makes about as much sense as the English pronunciation rules. We simply cannot introduce people to advanced math by writing a bunch of incoherent equations on a whiteboard. We need to find a way to separate the underlying mathematical <em>concepts</em> from the arcane scribbles we force students to deal with.</p><p>Personally, I understand most of higher math by reformulating it in terms of lambda calculus and type theory, because they map to real world programs I can write and investigate and <em>explore</em>. Interpreting mathematical concepts in terms of computer programs is just one way to make math more tangible. There must be other ways we can explain math without having to explain the extraordinarily dense, outdated notation that we use.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2016-07-30T22:18:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/mathematical-notation-is-awful/>July 30, 2016 at 10:18pm</a></time><aside><a href=/blog/mathematical-notation-is-awful/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;11 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fmathematical-notation-is-awful%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Mathematical%20Notation%20Is%20Awful&url=https%3a%2f%2ferikmcclure.com%2fblog%2fmathematical-notation-is-awful%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fmathematical-notation-is-awful%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/using-data-to-balance-your-game-pony/>Using Data To Balance Your Game: Pony Clicker Analysis</a></h4><hr><div class=padding><blockquote>*The only thing more addicting than heroine are numbers that keep getting larger.*</blockquote><p>Incrementer and idle games are seemingly simplistic games where you wait or click to increase a counter, then use that counter to buy things to make the counter go up faster. Because of the compounding effects involved, these types of games inevitably turn into a study of growth rates and how different functions interact. <a href=http://orteil.dashnet.org/cookieclicker/>Cookie Clicker</a> is perhaps the most well-known, which employs an exponential growth curve for the costs of buildings that looks like this:</p><div class=math>\[ Cost_n = Cost_0\cdot 1.15^n \]</div><p>Where <span class=math>$$ Cost_0 $$</span> is the initial cost of the building. Each building, however, has a fixed income, and so the entire game is literally the player trying to purchase upgrades and buildings to fight against an interminable exponential growth curve of the cost function. Almost every single feature added to Cookie Clicker is yet another way to battle the growth rate of the exponential function, delaying the plateauing of the CPS as long as possible. This includes the reset functionality, which grants heavenly chips that yield large CPS bonuses. However, no feature can compensate for the fact that the buildings do not have a sufficient growth rate to keep up with the exponential cost function, so you inevitably wind up in a dead end where it becomes almost impossible to buy anything in a reasonable amount of time regardless of player action.</p><p>Pony Clicker is based off Cookie Clicker, but takes a different approach. Instead of having set rates for each building, each building generates a number of smiles based on the number of ponies and friendships that you have, along with other buildings that &ldquo;synergize&rdquo; with that building. The more expensive buildings generate more smiles because they have a higher growth rate than the buildings below them. This makes the game extremely difficult to balance, because you only have equations and the cost curves to work with, instead of simply being able to set the per-building SPS. Furthermore, the SPS of a building continues to grow and change over the course of the game, further complicating the balance equation. Unfortunately, in the first version of the game, the growth rate of the end building exceeded the growth rate of the cost function, which resulted in immense end-game instability and all around unhappiness. To address balance problems in pony clicker, rather than simply throwing ideas at the wall and trying to play test them infinitely, I wrote a program that played the game for me. It uses a nearly optimal strategy of buying whatever the most efficient building is in terms of cost per +1 SPS increase. This is not a perfectly optimal strategy, which has to take into account how long the next building will need to take, but it was pretty close to how players tended to play.</p><p>Using this, I could analyze a game of pony clicker in terms of what the SPS looked like over time. My first graph was not very promising:</p><div class=imgwrap style=max-width:700px><a href=https://cloud.githubusercontent.com/assets/3387013/7786493/21b10990-0188-11e5-86de-7eaa7d5e07d5.png target=_blank><img src=https://cloud.githubusercontent.com/assets/3387013/7786493/21b10990-0188-11e5-86de-7eaa7d5e07d5.png width=100%></a></div><p>The SPS completely exploded and it was obviously terrible. To help me figure out what was going on, I included a graph of the optimal store purchases and the time until the next optimal purchase. My goal in terms of game experience was that no building would be left behind, and that there shouldn&rsquo;t be enormous gaps between purchases. I also wanted to make sure that the late game or the early game didn&rsquo;t take too long to get through.</p><div class=imgwrap style=max-width:700px><a href=https://cloud.githubusercontent.com/assets/3387013/7786492/1ccd4ac4-0188-11e5-840b-d3a47f4a898a.png target=_blank><img src=https://cloud.githubusercontent.com/assets/3387013/7786492/1ccd4ac4-0188-11e5-840b-d3a47f4a898a.png width=100%></a></div><p>In addition to this, I created a graph of the estimate SPS generation of each individual building, on a per-friendship basis. This helped compensate for the fact that the SPS changed as the game state itself changed, allowing me to ensure the SPS generation of any one building wasn&rsquo;t drastically out of whack with the others, and that it increased on a roughly linear scale.</p><div class=imgwrap style=max-width:700px><a href=https://cloud.githubusercontent.com/assets/3387013/7787681/f5c01296-01cc-11e5-829e-a0e9e1f89334.png target=_blank><img src=https://cloud.githubusercontent.com/assets/3387013/7787681/f5c01296-01cc-11e5-829e-a0e9e1f89334.png width=100%></a></div><p>This information was used to balance the game into a much more sane curve:</p><div class=imgwrap style=max-width:700px><a href=https://cloud.githubusercontent.com/assets/3387013/7899795/3bb8210c-06e7-11e5-9514-1b66669631dc.png target=_blank><img src=https://cloud.githubusercontent.com/assets/3387013/7899795/3bb8210c-06e7-11e5-9514-1b66669631dc.png width=100%></a></div><p>I then added upgrades to the main graph, and quickly learned that I was giving the player certain upgrades way too fast:</p><div class=imgwrap style=max-width:700px><a href=https://cloud.githubusercontent.com/assets/3387013/7806412/491fa6cc-0335-11e5-8e2e-6e6903d94240.png target=_blank><img src=https://cloud.githubusercontent.com/assets/3387013/7806412/491fa6cc-0335-11e5-8e2e-6e6903d94240.png width=100%></a></div><p>This was used to balance the upgrades and ensure they only gave a significant SPS increase when it was really needed (between expensive buildings, usually). The analysis page itself is <a href=https://erikmcclure.github.io/PonyClicker/utilities/analysis.html>available here</a>, so you can look at the current state of pony clicker&rsquo;s growth curve.</p><p>These graphs might not be perfect, but they are incredibly helpful when you are trying to eliminate exponential explosions. If you got a value that spirals out of control, a graph will tell you <em>immediately</em>. It makes it very easy to quickly balance purchase prices, because you can adjust the prices and see how this affects the optimal gameplay curve. Pony Clicker had so many interacting equations it was basically the <em>only</em> way i could come up with a game that was even remotely balanced (although it still needs some work). It&rsquo;s a great example of how important <strong>rapid feedback</strong> is when designing something. If you can get immediate feedback on what changing something does, it makes the process of refining something much faster, which lets you do a better job of refining it. It also lets you experiment with things that would otherwise be way too complex to balance by hand.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2015-05-30T10:36:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/using-data-to-balance-your-game-pony/>May 30, 2015 at 10:36am</a></time><aside><a href=/blog/using-data-to-balance-your-game-pony/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;4 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fusing-data-to-balance-your-game-pony%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Using%20Data%20To%20Balance%20Your%20Game%3a%20Pony%20Clicker%20Analysis&url=https%3a%2f%2ferikmcclure.com%2fblog%2fusing-data-to-balance-your-game-pony%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fusing-data-to-balance-your-game-pony%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/can-we-choose-what-we-enjoy/>Can We Choose What We Enjoy?</a></h4><hr><div class=padding><p>One of the most bizarre arguments I have ever heard in ethics is whether or not people can choose to be gay or not. The idea is, if being gay is genetically predetermined, it&rsquo;s not their fault, therefore you can&rsquo;t prosecute them for something they have no control over.</p><p>Since when did <em>anyone</em> get to choose what makes them happy? Can you <em>choose</em> to like strawberries? Can you <em>choose</em> to enjoy the smell of dandelions? At best, you can subject yourself to something over and over and over again and enjoy it as a sort of acquired taste, but this doesn&rsquo;t always work, and the fact remains that you are still predisposed to enjoying certain experiences. Unless we make a concentrated effort to change our preferences, <em>all</em> enjoyable sensory experiences occur <em>without our consent</em>. We are not in charge of what combination of neural impulses our brain happens to find enjoyable. All we can do is slowly influence those preferences, and even then, only sometimes.</p><p>This concept of people <em>choosing</em> what they enjoy seems to have infected society, and is often at the root of much bizarre and often unfair prosecution. If we assume that people cannot significantly change the preferences they were dealt by life, either as a result of genetic or environmental influences, a host of moral issues become apparent.</p><p>Gender roles stop making sense. In fact, prosecuting anyone on the LGTB spectrum immediately becomes invalid. Attacking anyone&rsquo;s sexual preferences, provided they are harmless, becomes unacceptable. Trying to attack anyone&rsquo;s artistic or musical preferences becomes difficult, at best. We know for a fact that someone&rsquo;s culinary preferences are influenced by the genetic distribution of taste buds in their mouth. It&rsquo;s even hard to properly critique someone&rsquo;s fashion choices if they happened to despise denim or some other fabric.</p><p>As far as I&rsquo;m concerned, the answer to the question &ldquo;why would someone like [x]&rdquo; is always &ldquo;because their brain is wired in a way that enjoys it.&rdquo; Humans are, at a fundamental level, sensory processing machines that accidentally achieved self-awareness. We enjoy something because we are programmed to enjoy it. To insult what kinds of sensory input someone enjoys simply because they do not match up with your own is laughably juvenile. The only time this kind of critique is valid is when someone&rsquo;s preferences cause harm to another person. We all have our own unique ways of processing sensory input, and so we will naturally enjoy different things, through no fault of our own. Sometimes, with a substantial amount of effort, we can slowly change some of those preferences, but most of the time, we&rsquo;re stuck with whatever we were born with (or whatever environmental factors shaped our perception in our childhood).</p><p>Instead of accusing someone of liking something you don&rsquo;t approve of, maybe next time you should try to understand <em>why</em> they like it, instead. Maybe you&rsquo;ll find a new friend.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2014-08-08T13:14:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/can-we-choose-what-we-enjoy/>August 8, 2014 at 1:14pm</a></time><aside><a href=/blog/can-we-choose-what-we-enjoy/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;2 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fcan-we-choose-what-we-enjoy%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=Can%20We%20Choose%20What%20We%20Enjoy%3f&url=https%3a%2f%2ferikmcclure.com%2fblog%2fcan-we-choose-what-we-enjoy%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fcan-we-choose-what-we-enjoy%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><article><h4><a href=/blog/how-to-make-your-profiler-10x-faster/>How To Make Your Profiler 10x Faster</a></h4><hr><div class=padding><p>Frustrated with C profilers that are either so minimal as to be useless, or giant behemoths that require you to install device drivers, I started writing a lightweight profiler for my <a href=http://bss-util.blackspherestudios.com>utility library</a>. I already had a high precision timer class, so it was just a matter of using a radix trie that didn&rsquo;t blow up the cache. I was very careful about minimizing the impact the profiler had on the code, even going so far as to check if extended precision floating point calculations were slowing it down.</p><p>Of course, since I was writing a profiler, I could use the profiler to profile itself. By pretending to profile a random number added to a cache-murdering int stuck in the middle of an array, I could do a fairly good simulation of profiling a function, while also profiling the act of profiling the function. The difference between the two measurements is how much overhead the profiler has. Unfortunately, my initial results were&mldr; <em>unfavorable</em>, to say the least.<pre class=language-cil><code>BSS Profiler Heat Output: 
[main.cpp:3851] test_PROFILE: 1370173 µs   [##########
  [code]: 545902.7 µs   [##########
  [main.cpp:3866] outer: 5530.022 ns   [....      
    [code]: 3872.883 ns   [...       
    [main.cpp:3868] inner: 1653.139 ns   [.         
  [main.cpp:3856] control: 1661.779 ns   [.         
  [main.cpp:3876] beginend: 1645.466 ns   [.         
</code></pre>The profiler had an overhead of almost <em>4 microseconds</em>. When you&rsquo;re dealing with functions that are called thousands of times a second, you need to be aware of code speed on the scale of <em>nanoseconds</em>, and this profiler would <em>completely ruin</em> the code. At first, I thought it was my fault, but none of my tweaks seemed to have any measureable effect on the speed whatsoever. On a whim, I decided to comment out the actual _querytime function that was calling QueryPerformanceCounter, then run an external profiler on it.<pre class=language-cil><code>Average control: 35 ns</code></pre><em>What?!</em> Well no wonder my tweaks weren&rsquo;t doing anything, all <em>my</em> code was taking a scant <em>35 nanoseconds</em> to run. The other <strong>99.9%</strong> of the time was spent on that single, stupid call, which also happened to be the one call I couldn&rsquo;t get rid of. However, that isn&rsquo;t the end of the story; _querytime() looks like this:<pre class=language-cpp><code>void cHighPrecisionTimer::_querytime(unsigned __int64* _pval)
{
  DWORD procmask=_getaffinity(); 
  HANDLE curthread = GetCurrentThread();
  SetThreadAffinityMask(curthread, 1);
  
  QueryPerformanceCounter((LARGE_INTEGER*)_pval);
  
  SetThreadAffinityMask(curthread, procmask);
}
</code></pre></p><p>Years ago, it was standard practice to wrap all calls to QueryPerformanceCounter in a CPU core mask to force it to operate on a single core due to potential glitches in the BIOS messing up your calculations. Microsoft itself had recommended it, and you could find this same code in almost any open-source library that was taking measurements. It turns out that this is <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/dn553408(v=vs.85).aspx">no longer necessary</a>:</p><blockquote>**Do I need to set the thread affinity to a single core to use QPC?**<p>No. For more info, see Guidance for acquiring time stamps. This scenario is neither necessary nor desirable.</blockquote></p><p>I couldn&rsquo;t get rid of the QueryPerformanceCounter call itself, but I could get rid of all that other crap it was doing. I commented it out, and <em>voilà!</em> The overhead had been reduced to a scant <em>340 nanoseconds</em>, only a tenth of what it had been before. I&rsquo;m still spending 90% of my calculation time calling that stupid function, but there isn&rsquo;t much I can do about that. Either way, it was a good reminder about the entire reason for using a profiler - bottlenecks tend to crop up in the most unexpected places.</p><pre class=language-cil><code>BSS Profiler Heat Output: 
[main.cpp:3851] test_PROFILE: 142416 µs   [##########
  [code]: 56575.4 µs   [##########
  [main.cpp:3866] outer: 515.43 ns   [....      
    [code]: 343.465 ns   [...       
    [main.cpp:3868] inner: 171.965 ns   [.         
  [main.cpp:3876] beginend: 173.025 ns   [.         
  [main.cpp:3856] control: 169.954 ns   [.         
</code></pre><p>I also tried adding standard deviation measurements, but that ended up giving me ludicrous values of 342±27348 ns, which isn&rsquo;t very helpful. Apparently there&rsquo;s quite a lot of variance in function call times, so much so that while the averages always tend to be the same over time, the statistical variance goes through the roof. This is probably why most profilers don&rsquo;t include the standard deviation. I <em>was</em> able to add in accurate unprofiled code measurements, though, and the profiler uses a dynamic triple magnitude method of displaying how much time a function takes.</p></div><hr><time itemprop=datePublished pubdate=pubdate datetime=2014-06-28T17:31:00+00:00><i class="fa-regular fa-clock fa-fw"></i>&nbsp;Published on <a href=https://erikmcclure.com/blog/how-to-make-your-profiler-10x-faster/>June 28, 2014 at 5:31pm</a></time><aside><a href=/blog/how-to-make-your-profiler-10x-faster/#comments><i class="fa-regular fa-comments fa-fw"></i>&nbsp;0 comments</a></aside><aside><i class="fa-regular fa-share-square fa-fw"></i>&nbsp;share:<ul><li><a href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ferikmcclure.com%2fblog%2fhow-to-make-your-profiler-10x-faster%2f','popup','width=600,height=400');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" d="M16.75 9H13.5V7a1 1 0 011-1h2V3H14a4 4 0 00-4 4V9H8v3h2v9h3.5V12H16z"/></svg></a><li><a href="javascript:window.open('https://twitter.com/intent/tweet?text=How%20To%20Make%20Your%20Profiler%2010x%20Faster&url=https%3a%2f%2ferikmcclure.com%2fblog%2fhow-to-make-your-profiler-10x-faster%2f','popup','width=600,height=256');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><path class="st0" opacity="0" d="M0 0h24v24H0z"/><path class="st0" d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572.0-4.658 2.086-4.658 4.66.0.364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342.0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3.0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376.0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57.0 13.255-7.098 13.255-13.254.0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/></svg></a></li><li><a href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2ferikmcclure.com%2fblog%2fhow-to-make-your-profiler-10x-faster%2f','popup','width=700,height=380');"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="twtr-icon twtr-color-fill--blue-dark has-hover"><style>.st0{fill:#666}</style><rect class="st0" height="11" width="4" x="3" y="9"/><circle class="st0" cx="5" cy="5" r="2"/><path class="st0" d="M16.5 8.25A4.47251 4.47251.0 0013 9.95343V9H9V20h4V13a2 2 0 014 0v7h4V12.75a4.5 4.5.0 00-4.5-4.5z"/></svg></a></li></ul></aside></article><div class=pager><ul><li><a href=/blog/page/4>Newer</a></li><li style=text-align:center><a href=/blog/>Home</a></li><li style=text-align:right><a href=/blog/page/6>Older</a></li></ul></div></section><section class=archive><article><img src=https://erikmcclure.com/img/avatar.th.png alt=Avatar width=180 height=180><h2>Archive</h2><ol><li><details><summary>2025</summary><ul><li><a href=/blog/do-you-really-think-we-have-gender-in-the-future/>Do You Really Think We'll Have Genders In The Future?</a></li></ul></details></li><li><details><summary>2024</summary><ul><li><a href=/blog/stop-making-me-memorize-borrow-checker/>Stop Making Me Memorize The Borrow Checker</a></li><li><a href=/blog/rust-async-makes-me-want-to-gouge-my-eyes-out/>Rust Async Makes Me Want To Gouge My Eyes Out</a></li><li><a href=/blog/engineers-only-get-paid-something-broken/>Engineers Only Get Paid If Something Is Broken</a></li><li><a href=/blog/measuring-competence-is-epistemic-hell/>Measuring Competence Is Epistemic Hell</a></li></ul></details></li><li><details><summary>2023</summary><ul><li><a href=/blog/discord-should-remove-usernames/>Discord Should Remove Usernames Entirely</a></li></ul></details></li><li><details><summary>2022</summary><ul><li><a href=/blog/we-need-new-motherboards/>We Need New Motherboards Before GPUs Collapse Under Their Own Gravity</a></li></ul></details></li><li><details><summary>2021</summary><ul><li><a href=/blog/cpp-constructors-memory-and-lifetimes/>C++ Constructors, Memory, and Lifetimes</a></li><li><a href=/blog/factorio-is-best-interview-we-have/>Factorio Is The Best Technical Interview We Have</a></li></ul></details></li><li><details><summary>2020</summary><ul><li><a href=/blog/why-you-cant-use-prebuilt-llvm-with-cpp17/>Why You Can't Use Prebuilt LLVM 10.0 with C++17</a></li><li><a href=/blog/pressure-based-anti-spam-for-discord-bots/>Pressure Based Anti-Spam for Discord Bots</a></li></ul></details></li><li><details><summary>2019</summary><ul><li><a href=/blog/name-shadowing-should-be-an-operator/>Name Shadowing Should Be An Operator</a></li><li><a href=/blog/a-rant-on-terra/>A Rant On Terra</a></li><li><a href=/blog/risc-is-fundamentally-unscalable/>RISC Is Fundamentally Unscalable</a></li></ul></details></li><li><details><summary>2018</summary><ul><li><a href=/blog/migrating-to-static-blog/>Migrating To A Static Blog</a></li><li><a href=/blog/how-to-avoid-memorizing-times-tables/>How To Avoid Memorizing Times Tables</a></li></ul></details></li><li><details><summary>2017</summary><ul><li><a href=/blog/integrating-luajit-and-autogenerating-c/>Integrating LuaJIT and Autogenerating C Bindings In Visual Studio</a></li><li><a href=/blog/discord-rise-of-bot-wars/>Discord: Rise Of The Bot Wars</a></li><li><a href=/blog/windows-wont-let-my-program-crash/>Windows Won't Let My Program Crash</a></li><li><a href=/blog/directx-is-terrifying/>DirectX Is Terrifying</a></li></ul></details></li><li><details><summary>2016</summary><ul><li><a href=/blog/everyone-does-srgb-wrong-because/>Everyone Does sRGB Wrong Because Everyone Else Does sRGB Wrong</a></li><li><a href=/blog/mathematical-notation-is-awful/>Mathematical Notation Is Awful</a></li></ul></details></li><li><details><summary>2015</summary><ul><li><a href=/blog/using-data-to-balance-your-game-pony/>Using Data To Balance Your Game: Pony Clicker Analysis</a></li></ul></details></li><li><details><summary>2014</summary><ul><li><a href=/blog/can-we-choose-what-we-enjoy/>Can We Choose What We Enjoy?</a></li><li><a href=/blog/how-to-make-your-profiler-10x-faster/>How To Make Your Profiler 10x Faster</a></li><li><a href=/blog/the-problem-with-photorealism/>The Problem With Photorealism</a></li></ul></details></li><li><details><summary>2013</summary><ul><li><a href=/blog/googles-decline-really-bugs-me/>Google's Decline Really Bugs Me</a></li><li><a href=/blog/write-less-code/>Write Less Code</a></li><li><a href=/blog/leap-motion-impressions-input/>Leap Motion Impressions, Input Sanitation, and 3D Gesture Ideas</a></li><li><a href=/blog/aurora-theory-released/>Aurora Theory Released!</a></li><li><a href=/blog/what-i-learned-in-college/>What I Learned In College</a></li><li><a href=/blog/course-notes/>Course Notes</a></li><li><a href=/blog/windows-breaks-assert-inside/>Windows Breaks assert() Inside WM_CANCELMODE</a></li><li><a href=/blog/the-productivity-fallacy/>The Productivity Fallacy</a></li></ul></details></li><li><details><summary>2012</summary><ul><li><a href=/blog/c-to-c-tutorial-part-4-operator-overload/>C# to C++ Tutorial - Part 4: Operator Overload</a></li><li><a href=/blog/7-problems-raytracing-doesnt-solve/>7 Problems Raytracing Doesn't Solve</a></li><li><a href=/blog/analyzing-xkcd-click-and-drag/>Analyzing XKCD: Click and Drag</a></li><li><a href=/blog/coordinate-systems-and-cascading/>Coordinate Systems And Cascading Stupidity</a></li><li><a href=/blog/how-joysticks-ruined-my-graphics-engine/>How Joysticks Ruined My Graphics Engine</a></li><li><a href=/blog/multithreading-problems-in-game-design/>Multithreading Problems In Game Design</a></li><li><a href=/blog/why-windows-8-does-right-thing-wrong/>Why Windows 8 Does The Right Thing The Wrong Way</a></li><li><a href=/blog/visual-studio-broke-my-computer/>Visual Studio Broke My Computer</a></li><li><a href=/blog/implicit-ui-design/>Implicit UI Design</a></li><li><a href=/blog/linux-mint-12-kde/>Linux Mint 12 KDE</a></li><li><a href=/blog/new-post/>'Programmer' is an Overgeneralization</a></li></ul></details></li><li><details><summary>2011</summary><ul><li><a href=/blog/great-mystery-of-linear-gradient/>The Great Mystery of Linear Gradient Lighting</a></li><li><a href=/blog/signed-integers-considered-stupid-like/>Signed Integers Considered Stupid (Like This Title)</a></li><li><a href=/blog/c-to-c-tutorial-part-3-classes-and/>C# to C++ Tutorial - Part 3: Classes and Structs and Inheritance (OH MY!)</a></li><li><a href=/blog/problem-of-vsync/>The Problem of Vsync</a></li><li><a href=/blog/c-to-c-tutorial-part-2-pointers/>C# to C++ Tutorial - Part 2: Pointers Everywhere!</a></li><li><a href=/blog/c-to-c-tutorial-part-1-basics-of-syntax/>C# to C++ Tutorial - Part 1: Basics of Syntax</a></li><li><a href=/blog/ninth-circle-of-bugs/>The Ninth Circle of Bugs</a></li><li><a href=/blog/investigating-low-level-cpu-performance/>Investigating Low-level CPU Performance</a></li></ul></details></li><li><details><summary>2010</summary><ul><li><a href=/blog/album-for-sale-renascent/>Album For Sale! [Renascent]</a></li><li><a href=/blog/wavsaver/>WavSaver</a></li><li><a href=/blog/pixel-perfect-hit-testing/>Pixel Perfect Hit Testing</a></li><li><a href=/blog/8-bit-color-cycling/>8-bit color cycling</a></li><li><a href=/blog/physics-networking/>Physics Networking</a></li><li><a href=/blog/assembly-cas-implementation/>Assembly CAS implementation</a></li><li><a href=/blog/function-pointer-speed/>Function Pointer Speed</a></li><li><a href=/blog/most-bizarre-error-ever/>Most Bizarre Error Ever</a></li></ul></details></li><li><details><summary>2009</summary><ul><li><a href=/blog/physics-oriented-network-interpolation/>Physics-oriented Network Interpolation</a></li></ul></details></li></ol></article></section></main><footer><p><span>Copyright &copy;2025 Erik McClure</span> <a href=https://erikmcclure.com/sitemap.xml>Sitemap</a> | <a href=https://erikmcclure.com/blog/index.xml>RSS Feed</a></p></footer></div><script>"use strict";window.onload=function(){e=document.getElementsByClassName("math");for(var e,t=0,n=e.length;t<n;t++)renderMathInElement(e[t],{delimiters:[{left:"$$",right:"$$",display:!1},{left:"\\[",right:"\\]",display:!0}]})}</script></body></html>